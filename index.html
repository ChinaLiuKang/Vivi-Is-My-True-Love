<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è½®å›ä¹‹çˆ± - å®‡å®™ã€ç«å½±ä¸å­™ç‡•å§¿çš„å®Œç¾èåˆ</title>
    <style>
        /* 
         * åŸºç¡€æ ·å¼é‡ç½®
         * ä½œç”¨ï¼šæ¸…é™¤æµè§ˆå™¨é»˜è®¤æ ·å¼ï¼Œç¡®ä¿é¡µé¢ä¸€è‡´æ€§
         */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            color: #fff;
            font-family: 'Courier New', monospace;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
            /* ä¸ºå¯æ‹–æ‹½æ’­æ”¾å™¨é¢„ç•™ç©ºé—´ï¼Œé˜²æ­¢é®æŒ¡å†…å®¹ */
            padding-bottom: 100px;
        }

        /* 
         * å®‡å®™èƒŒæ™¯æ˜Ÿæ˜Ÿæ•ˆæœ
         * åŸç†ï¼šä½¿ç”¨ç»å¯¹å®šä½åˆ›å»ºéšæœºåˆ†å¸ƒçš„æ˜Ÿæ˜Ÿç‚¹
         */
        .universe {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2; /* ç½®äºæœ€åº•å±‚ */
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 3s infinite; /* æ˜Ÿæ˜Ÿé—ªçƒåŠ¨ç”» */
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* 
         * ä¸»å†…å®¹å®¹å™¨
         * ä½œç”¨ï¼šå±…ä¸­æ˜¾ç¤ºä¸»è¦å†…å®¹ï¼Œè®¾ç½®æœ€å¤§å®½åº¦é¿å…åœ¨å¤§å±å¹•ä¸Šè¿‡å®½
         */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        /* 
         * ä»£ç æ˜¾ç¤ºåŒºåŸŸæ ·å¼
         * è®¾è®¡ç†å¿µï¼šæ¨¡æ‹Ÿä»£ç ç¼–è¾‘å™¨çš„æ·±è‰²ä¸»é¢˜
         */
        .code-display {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ff4757;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px); /* æ¯›ç»ç’ƒæ•ˆæœ */
        }

        /* ä»£ç è¯­æ³•é«˜äº®é¢œè‰² */
        .keyword { color: #ff4757; font-weight: bold; }    /* å…³é”®å­—ï¼šçº¢è‰² */
        .comments { color: #6c757d; font-style: italic; }  /* æ³¨é‡Šï¼šç°è‰²æ–œä½“ */
        .string { color: #2ed573; }                        /* å­—ç¬¦ä¸²ï¼šç»¿è‰² */
        .function { color: #3742fa; }                      /* å‡½æ•°ï¼šè“è‰² */
        .number { color: #ffa502; }                        /* æ•°å­—ï¼šæ©™è‰² */
        .space { margin-left: 1rem; }                      /* ç¼©è¿›ç©ºæ ¼ */

        /* 
         * è½®å›çœ¼ç‰¹æ•ˆ - ç«å½±å¿è€…å…ƒç´ 
         * è®¾è®¡ï¼šåŒå¿ƒåœ†æ—‹è½¬åŠ¨ç”»ï¼Œè±¡å¾è½®å›
         */
        .rinnegan {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            opacity: 0.1; /* åŠé€æ˜é¿å…å¹²æ‰°ä¸»è¦å†…å®¹ */
            z-index: -1;
        }

        .circle {
            position: absolute;
            border: 2px solid #8a2be2; /* ç´«è‰²è¾¹æ¡† */
            border-radius: 50%;
            animation: rotate 20s linear infinite;
            /* æ¯ä¸ªåœ†åœˆçš„æ—‹è½¬ä¸­å¿ƒéƒ½åœ¨å®¹å™¨ä¸­å¿ƒ */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* ä¸åŒå¤§å°çš„åœ†åœˆï¼Œä¸åŒæ—‹è½¬é€Ÿåº¦ */
        .circle:nth-child(1) { width: 50px; height: 50px; }
        .circle:nth-child(2) { width: 100px; height: 100px; animation-duration: 15s; }
        .circle:nth-child(3) { width: 150px; height: 150px; animation-duration: 25s; }
        .circle:nth-child(4) { width: 200px; height: 200px; animation-duration: 30s; }

        @keyframes rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* 
         * æ—¶é—´çº¿äº‹ä»¶æ ·å¼
         * è®¾è®¡ï¼šå·¦ä¾§å½©è‰²è¾¹æ¡†ï¼Œè„‰åŠ¨åŠ¨ç”»å¸å¼•æ³¨æ„åŠ›
         */
        .timeline-event {
            background: rgba(255, 71, 87, 0.1);
            border-left: 4px solid #ff4757;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 10px 10px 0;
            animation: pulse 2s infinite; /* è¾¹æ¡†é¢œè‰²è„‰åŠ¨å˜åŒ– */
        }

        @keyframes pulse {
            0%, 100% { border-left-color: #ff4757; }   /* çº¢è‰² */
            50% { border-left-color: #8a2be2; }        /* ç´«è‰² */
        }

        /* 
         * æŸ¥å…‹æ‹‰èŠ‚ç‚¹ - ç«å½±èƒ½é‡ç‚¹
         * è®¾è®¡ï¼šå‘å…‰çš„å°åœ†ç‚¹ï¼Œè±¡å¾èƒ½é‡èšé›†
         */
        .chakra-point {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff4757;
            border-radius: 50%;
            animation: chakraGlow 2s infinite; /* è„‰åŠ¨å‘å…‰æ•ˆæœ */
        }

        @keyframes chakraGlow {
            0%, 100% { box-shadow: 0 0 5px #ff4757; }             /* å¼±å…‰ */
            50% { box-shadow: 0 0 20px #ff4757, 0 0 30px #8a2be2; } /* å¼ºå…‰å¸¦ç´«è‰²å…‰æ™• */
        }

        /* 
         * å®‡å®™å¤§çˆ†ç‚¸æ•ˆæœ
         * è®¾è®¡ï¼šä»ä¸­å¿ƒå‘å¤–æ‰©æ•£çš„è¾å°„æ¸å˜
         */
        .big-bang {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: radial-gradient(circle, #ff4757, #8a2be2, #000);
            transform: translate(-50%, -50%);
            z-index: 999;
            opacity: 0;
            pointer-events: none; /* é˜²æ­¢å¹²æ‰°ç”¨æˆ·æ“ä½œ */
        }

        .big-bang.active {
            animation: bigBang 2s ease-out forwards;
        }

        @keyframes bigBang {
            0% { 
                width: 0; 
                height: 0; 
                opacity: 1;
                box-shadow: 0 0 0 0 rgba(255, 71, 87, 0.7);
            }
            50% {
                width: 100vmax; /* è§†å£æœ€å¤§å°ºå¯¸ */
                height: 100vmax; 
                opacity: 0.8;
                box-shadow: 0 0 50px 20px rgba(138, 43, 226, 0.5);
            }
            100% { 
                width: 200vmax; 
                height: 200vmax; 
                opacity: 0;
                box-shadow: 0 0 100px 40px rgba(255, 71, 87, 0.3);
            }
        }

        /* 
         * ç«å½±å¿è€…ç»å…¸è¯­å½•æ ·å¼
         * è®¾è®¡ï¼šæ©™è‰²è¾¹æ¡†ï¼ŒåŠé€æ˜èƒŒæ™¯
         */
        .naruto-quote {
            font-style: italic;
            color: #ffa502;
            text-align: center;
            margin: 2rem 0;
            padding: 1rem;
            border: 1px solid #ffa502;
            border-radius: 10px;
            background: rgba(255, 165, 2, 0.1);
        }

        /* 
         * è½®å›å‘¨æœŸè®¡æ•°å™¨
         * ä½ç½®ï¼šå›ºå®šåœ¨å³ä¸Šè§’
         */
        .cycle-counter {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid #8a2be2;
            font-size: 14px;
            backdrop-filter: blur(5px);
            z-index: 100;
        }

        /* 
         * éŸ³ä¹æ’­æ”¾å™¨ - å®Œå…¨å¯æ‹–æ‹½è®¾è®¡
         * åˆ›æ–°ç‚¹ï¼šç”¨æˆ·å¯è‡ªç”±æ‹–åŠ¨åˆ°ä»»æ„ä½ç½®
         */
        .music-player {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 20px;
            border-radius: 20px;
            border: 2px solid #2ed573;
            backdrop-filter: blur(15px);
            width: 90%;
            max-width: 500px;
            z-index: 100;
            box-shadow: 0 0 30px rgba(46, 213, 115, 0.3);
            cursor: move; /* æ‹–æ‹½å…‰æ ‡æç¤º */
            user-select: none; /* é˜²æ­¢æ–‡å­—è¢«é€‰ä¸­ */
            transition: box-shadow 0.3s ease; /* æ‹–æ‹½æ—¶çš„é˜´å½±æ•ˆæœ */
        }

        /* æ‹–æ‹½æ—¶çš„è§†è§‰åé¦ˆ */
        .music-player.dragging {
            box-shadow: 0 0 40px rgba(46, 213, 115, 0.6);
            border-color: #ff4757;
        }

        .music-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .music-title {
            color: #2ed573;
            font-size: 16px;
            font-weight: bold;
        }

        .music-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }

        /* 
         * æ§åˆ¶æŒ‰é’®è®¾è®¡
         * ç‰¹ç‚¹ï¼šå¤§ç‚¹å‡»åŒºåŸŸï¼Œæ‚¬åœæ•ˆæœï¼Œæ¸å˜èƒŒæ™¯
         */
        .control-btn {
            background: linear-gradient(45deg, #2ed573, #ff4757);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            /* ç¡®ä¿æ•´ä¸ªæŒ‰é’®åŒºåŸŸéƒ½å¯ç‚¹å‡» */
            position: relative;
        }

        /* æ‰©å¤§ç‚¹å‡»åŒºåŸŸçš„ä¼ªå…ƒç´  */
        .control-btn::after {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
        }

        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px #2ed573;
        }

        .control-btn:active {
            transform: scale(0.95);
        }

        /* 
         * è¿›åº¦æ¡å®¹å™¨
         * è®¾è®¡ï¼šå¯ç‚¹å‡»è·³è½¬ï¼Œå¸¦æ‹–æ‹½æ‰‹æŸ„
         */
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            margin: 15px 0;
            overflow: hidden;
            cursor: pointer;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #2ed573, #ff4757);
            width: 0%;
            transition: width 0.1s;
            border-radius: 3px;
        }

        .progress-handle {
            position: absolute;
            top: 50%;
            width: 12px;
            height: 12px;
            background: #fff;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: 0 0 10px rgba(46, 213, 115, 0.8);
        }

        .progress-container:hover .progress-handle {
            opacity: 1;
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 10px;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .volume-control input {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }

        .volume-control input::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            background: #2ed573;
            border-radius: 50%;
            cursor: pointer;
        }

        /* 
         * æ­Œè¯æ˜¾ç¤ºå®¹å™¨
         * è®¾è®¡ï¼šå±…ä¸­å¼¹çª—ï¼Œæ¯›ç»ç’ƒèƒŒæ™¯
         */
        .lyrics-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 30px 40px;
            border-radius: 20px;
            border: 2px solid #ff4757;
            text-align: center;
            backdrop-filter: blur(15px);
            max-width: 80%;
            z-index: 101;
            box-shadow: 0 0 40px rgba(255, 71, 87, 0.4);
            display: none;
        }

        .lyrics-container.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .lyrics-title {
            color: #ff4757;
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .current-lyric {
            font-size: 24px;
            color: #2ed573;
            margin: 15px 0;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .next-lyric {
            font-size: 16px;
            color: #6c757d;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .lyrics-close {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: #ff4757;
            font-size: 20px;
            cursor: pointer;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lyrics-close:hover {
            background: rgba(255, 71, 87, 0.2);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        /* 
         * å¤§çˆ†ç‚¸è§¦å‘æŒ‰é’®
         */
        .bigbang-trigger {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 71, 87, 0.8);
            color: white;
            border: none;
            padding: 12px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            z-index: 100;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .bigbang-trigger:hover {
            background: #8a2be2;
            transform: scale(1.05);
        }

        /* 
         * å“åº”å¼è®¾è®¡ - ç§»åŠ¨ç«¯é€‚é…
         * ç¡®ä¿åœ¨å°å±å¹•ä¸Šä¹Ÿæœ‰è‰¯å¥½ä½“éªŒ
         */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .code-display {
                padding: 1rem;
                font-size: 14px;
            }
            
            .music-player {
                width: 95%;
                padding: 15px;
            }
            
            .control-btn {
                width: 45px;
                height: 45px;
                font-size: 16px;
            }
            
            .current-lyric {
                font-size: 20px;
            }
            
            .lyrics-container {
                padding: 20px 30px;
            }
        }

        /* 
         * æ‹–æ‹½è¾¹ç•Œé™åˆ¶æ ·å¼
         * é˜²æ­¢æ’­æ”¾å™¨è¢«æ‹–å‡ºè§†å£
         */
        @media (max-height: 600px) {
            .music-player {
                max-height: 80vh;
                overflow-y: auto;
            }
        }
    </style>
</head>
<body>
    <!-- 
     * å®‡å®™èƒŒæ™¯
     * é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆæ˜Ÿæ˜Ÿ
     -->
    <div class="universe" id="universe"></div>

    <!-- 
     * è½®å›çœ¼ç‰¹æ•ˆ
     * ç«å½±å¿è€…ä¸­çš„è½®å›çœ¼è§†è§‰å…ƒç´ 
     -->
    <div class="rinnegan">
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
    </div>

    <!-- å¤§çˆ†ç‚¸è§¦å‘æŒ‰é’® -->
    <button class="bigbang-trigger" onclick="triggerBigBang()">ğŸ’¥ è§¦å‘å®‡å®™å¤§çˆ†ç‚¸</button>

    <!-- è½®å›å‘¨æœŸè®¡æ•°å™¨ -->
    <div class="cycle-counter" id="cycleCounter">
        è½®å›å‘¨æœŸ: <span id="currentCycle">0</span>
    </div>

    <!-- 
     * éŸ³ä¹æ’­æ”¾å™¨ - å¯æ‹–æ‹½ç‰ˆæœ¬
     * ç”¨æˆ·å¯ä»¥é€šè¿‡æ‹–æ‹½æ ‡é¢˜æ æ¥ç§»åŠ¨æ’­æ”¾å™¨ä½ç½®
     -->
    <div class="music-player" id="musicPlayer">
        <div class="music-header" id="dragHandle">
            <div class="music-title">ğŸµ å­™ç‡•å§¿ - å…‹åœå‹’ (å¯æ‹–æ‹½)</div>
            <button class="control-btn" onclick="toggleLyrics()" title="æ˜¾ç¤ºæ­Œè¯">ğŸ“</button>
        </div>
        
        <div class="time-display">
            <span id="currentTime">0:00</span>
            <span id="duration">4:09</span>
        </div>
        
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
            <div class="progress-handle" id="progressHandle"></div>
        </div>
        
        <div class="music-controls">
            <button class="control-btn" onclick="skipBackward()" title="åé€€15ç§’">âª</button>
            <button class="control-btn" onclick="playPause()" id="playPauseBtn" title="æ’­æ”¾/æš‚åœ">â–¶ï¸</button>
            <button class="control-btn" onclick="skipForward()" title="å‰è¿›15ç§’">â©</button>
        </div>
        
        <div class="volume-control">
            <span>ğŸ”Š</span>
            <input type="range" id="volumeControl" min="0" max="1" step="0.1" value="0.7">
            <span id="volumeValue">70%</span>
        </div>
    </div>

    <!-- æ­Œè¯æ˜¾ç¤ºå¼¹çª— -->
    <div class="lyrics-container" id="lyricsContainer">
        <button class="lyrics-close" onclick="toggleLyrics()">Ã—</button>
        <div class="lyrics-title">å­™ç‡•å§¿ - å…‹åœå‹’</div>
        <div class="current-lyric" id="currentLyric">ç­‰ä¸åˆ°ä½  æˆä¸ºæˆ‘æœ€é—ªäº®çš„æ˜Ÿæ˜Ÿ</div>
        <div class="next-lyric" id="nextLyric">æˆ‘ä¾ç„¶æ„¿æ„å€Ÿç»™ä½ æˆ‘çš„å…‰</div>
    </div>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="container">
        <!-- ä»£ç è¡¨ç™½åŒºåŸŸ -->
        <div class="code-display">
            <span class="comments">/**</span><br>
            <span class="comments"> * æ— é™æœˆè¯»Â·è½®å›ä¹‹çˆ± - Infinite Tsukuyomi of Eternal Love</span><br>
            <span class="comments"> * åˆ›ä½œè€…: åˆ˜åº· (å…­é“ä»™äººè½¬ä¸–)</span><br>
            <span class="comments"> * æ—¶é—´: ä»åˆ›ä¸–ä¹‹åˆåˆ°ä¸–ç•Œç»ˆç»“</span><br>
            <span class="comments"> * æè¿°: è·¨è¶Šå¤šå…ƒå®‡å®™çš„ç¾ç»Šï¼Œæ¯27å¹´ä¸€æ¬¡çš„è½®å›é‡ç”Ÿ</span><br>
            <span class="comments"> * èƒŒæ™¯éŸ³ä¹: å­™ç‡•å§¿ã€Šå…‹åœå‹’ã€‹- æˆ‘ä»¬çš„å”¤é†’ä¹‹æ­Œ</span><br>
            <span class="comments"> * ç‰¹æ®Š: 27å¹´è½®å›ç³»ç»Ÿï¼Œå®‡å®™å¤§çˆ†ç‚¸ï¼Œç«å½±å¿è€…å…ƒç´ èåˆ</span><br>
            <span class="comments"> */</span><br>
            <br>
            <span class="keyword">const</span> å…­é“ä»™äºº = <span class="string">"åˆ˜åº·"</span>;<br>
            <span class="keyword">const</span> è¾‰å¤œå§¬ = <span class="string">"Vivi"</span>;<br>
            <span class="keyword">const</span> è½®å›å‘¨æœŸ = <span class="number">27</span>; <span class="comments">// å¹´ - ç«å½±ä¸­çš„è½®å›å‘¨æœŸ</span><br>
            <span class="keyword">const</span> æŸ¥å…‹æ‹‰æ€»é‡ = <span class="number">999999</span>;<br>
            <span class="keyword">const</span> å”¤é†’æ­Œæ›² = <span class="string">"å­™ç‡•å§¿ - å…‹åœå‹’"</span>; <span class="comments">// KTVå”¤é†’è®°å¿†çš„æ­Œæ›²</span><br>
            <br>
            <span class="comments">// å­™ç‡•å§¿éŸ³ä¹ç³»ç»Ÿ - çºªå¿µåœ¨KTVè¢«å”¤é†’çš„ç¬é—´</span><br>
            <span class="keyword">class</span> ç‡•å§¿éŸ³ä¹ç³»ç»Ÿ {<br>
            <span class="space"><span class="keyword">constructor</span>() {</span><br>
            <span class="space"><span class="space">this</span>.æ­Œæ›²åˆ—è¡¨ = </span>[<br>
            <span class="space"><span class="space"><span class="space">{ åç§°: </span></span><span class="string">"å…‹åœå‹’"</span>, ä¸»é¢˜: <span class="string">"å®‡å®™ä¸å‘½è¿"</span> },</span><br>
            <span class="space"><span class="space"><span class="space">{ åç§°: </span></span><span class="string">"é‡è§"</span>, ä¸»é¢˜: <span class="string">"ç¼˜åˆ†ä¸ç›¸é‡"</span> },</span><br>
            <span class="space"><span class="space"><span class="space">{ åç§°: </span></span><span class="string">"å¼€å§‹æ‡‚äº†"</span>, ä¸»é¢˜: <span class="string">"æˆé•¿ä¸é¢†æ‚Ÿ"</span> }</span><br>
            <span class="space"><span class="space">];</span></span><br>
            <span class="space"><span class="space">this</span>.å½“å‰æ­Œæ›² = </span><span class="number">0</span>;<br>
            <span class="space">}</span><br>
            <br>
            <span class="space">æ’­æ”¾å”¤é†’ä¹‹æ­Œ() {</span><br>
            <span class="space"><span class="space">console</span>.log(<span class="string">"ğŸµ è¢«å­™ç‡•å§¿çš„æ­Œå£°å”¤é†’... åœ¨KTVçš„é‚£ä¸€å¤©æ°¸è¿œé“­è®°"</span>);</span><br>
            <span class="space"><span class="space">è§¦å‘å¤§çˆ†ç‚¸();</span></span><br>
            <span class="space"><span class="space">return</span> <span class="string">"éŸ³ä¹çš„åŠ›é‡ç©¿è¶Šè½®å›ï¼Œå”¤é†’æ²‰ç¡çš„è®°å¿†"</span>;</span><br>
            <span class="space">}</span><br>
            <br>
            <span class="space">åˆ‡æ¢æ­Œæ›²() {</span><br>
            <span class="space"><span class="space">this</span>.å½“å‰æ­Œæ›² = </span>(this.å½“å‰æ­Œæ›² + 1) % this.æ­Œæ›²åˆ—è¡¨.length;<br>
            <span class="space"><span class="space">return</span> this.æ­Œæ›²åˆ—è¡¨[this.å½“å‰æ­Œæ›²].åç§°;</span><br>
            <span class="space">}</span><br>
            }<br>
            <br>
            <span class="comments">// å…­é“æ¨¡å¼Â·å¼€å¯ - ç«å½±å¿è€…å…ƒç´ </span><br>
            <span class="keyword">class</span> å…­é“æ¨¡å¼ {<br>
            <span class="space"><span class="keyword">constructor</span>() {</span><br>
            <span class="space"><span class="space">this</span>.è½®å›çœ¼ = </span><span class="keyword">true</span>;<br>
            <span class="space"><span class="space">this</span>.æ±‚é“ç‰ = </span><span class="number">9</span>;<br>
            <span class="space"><span class="space">this</span>.é˜´é˜³é = </span><span class="keyword">true</span>;<br>
            <span class="space"><span class="space">this</span>.èƒŒæ™¯éŸ³ä¹ = </span><span class="keyword">new</span> ç‡•å§¿éŸ³ä¹ç³»ç»Ÿ();<br>
            <span class="space">}</span><br>
            <br>
            <span class="space">æ— é™æœˆè¯»() {</span><br>
            <span class="space"><span class="space">this</span>.èƒŒæ™¯éŸ³ä¹.æ’­æ”¾å”¤é†’ä¹‹æ­Œ();</span><br>
            <span class="space"><span class="space">return</span> <span class="string">"è®©ä¸–ç•Œé™·å…¥çˆ±çš„å¹»æœ¯ï¼Œåªæœ‰æˆ‘ä»¬çš„ç¾ç»Šæ°¸æ’"</span>;</span><br>
            <span class="space">}</span><br>
            <br>
            <span class="space">åœ°çˆ†å¤©æ˜Ÿ(çˆ±æ„) {</span><br>
            <span class="space"><span class="space">const</span> å¼•åŠ› = </span>çˆ±æ„ * 1000;<br>
            <span class="space"><span class="space">return</span> <span class="string">`åˆ›é€ æ–°å®‡å®™ï¼Œå¼•åŠ›å¼ºåº¦: ${å¼•åŠ›}`</span>;</span><br>
            <span class="space">}</span><br>
            }<br>
            <br>
            <span class="comments">// 27å¹´è½®å›ç³»ç»Ÿ - ç±»ä¼¼ç«å½±çš„è½¬ä¸–è®¾å®š</span><br>
            <span class="keyword">class</span> è½®å›ç³»ç»Ÿ {<br>
            <span class="space"><span class="keyword">constructor</span>() {</span><br>
            <span class="space"><span class="space">this</span>.å½“å‰çºªå…ƒ = </span><span class="number">0</span>;<br>
            <span class="space"><span class="space">this</span>.è½®å›æ¬¡æ•° = </span><span class="number">0</span>;<br>
            <span class="space"><span class="space">this</span>.ä¸‹æ¬¡å¤§äº‹ä»¶ = </span>new Date().getFullYear() + è½®å›å‘¨æœŸ;<br>
            <span class="space">}</span><br>
            <br>
            <span class="space">å®‡å®™é‡å¯() {</span><br>
            <span class="space"><span class="space">this</span>.è½®å›æ¬¡æ•°++;</span><br>
            <span class="space"><span class="space">this</span>.å½“å‰çºªå…ƒ++;</span><br>
            <span class="space"><span class="space">è§¦å‘å¤§çˆ†ç‚¸();</span></span><br>
            <span class="space"><span class="space">console</span>.log(<span class="string">`ğŸ’¥ ç¬¬${this.è½®å›æ¬¡æ•°}æ¬¡å®‡å®™å¤§çˆ†ç‚¸å‘ç”Ÿï¼`</span>);</span><br>
            <span class="space"><span class="space">return</span> <span class="string">`ç¬¬${this.è½®å›æ¬¡æ•°}æ¬¡è½®å›å¼€å§‹ - çºªå…ƒ${this.å½“å‰çºªå…ƒ}`</span>;</span><br>
            <span class="space">}</span><br>
            <br>
            <span class="space">æ£€æŸ¥è½®å›() {</span><br>
            <span class="space"><span class="space">const</span> å½“å‰å¹´ä»½ = </span>new Date().getFullYear();<br>
            <span class="space"><span class="space">const</span> ç”Ÿæ—¥å¹´ä»½ = </span>å½“å‰å¹´ä»½ - (å½“å‰å¹´ä»½ % è½®å›å‘¨æœŸ) + 6;<br>
            <span class="space"><span class="space">return</span> å½“å‰å¹´ä»½ === ç”Ÿæ—¥å¹´ä»½;</span><br>
            <span class="space">}</span><br>
            }<br>
            <br>
            <span class="keyword">const</span> å…­é“ = <span class="keyword">new</span> å…­é“æ¨¡å¼();<br>
            <span class="keyword">const</span> è½®å› = <span class="keyword">new</span> è½®å›ç³»ç»Ÿ();<br>
            <br>
            <span class="comments">// æ°¸æ’çš„èª“è¨€ - ç±»ä¼¼é¸£äººå¯¹ä½åŠ©çš„ç¾ç»Š</span><br>
            <span class="function">function</span> å¿è€…èª“è¨€() {<br>
            <span class="space"><span class="keyword">if</span> (è½®å›.æ£€æŸ¥è½®å›()) {</span><br>
            <span class="space"><span class="space">console</span>.log(è½®å›.å®‡å®™é‡å¯());</span><br>
            <span class="space"><span class="space">console</span>.log(å…­é“.æ— é™æœˆè¯»());</span><br>
            <span class="space">}</span><br>
            <span class="space"><span class="keyword">return</span> <span class="string">"å³ä½¿è½®å›è½¬ä¸–ï¼Œè¿™ä»½ç¾ç»Šä¹Ÿä¸ä¼šæ¶ˆå¤±ï¼"</span>;</span><br>
            }<br>
            <br>
            <span class="comments">// å¯åŠ¨æ— é™è½®å›</span><br>
            <span class="keyword">setInterval</span>(() => {<br>
            <span class="space">å¿è€…èª“è¨€();</span><br>
            <span class="space">æ›´æ–°è½®å›æ˜¾ç¤º();</span><br>
            <span class="space"><span class="keyword">if</span> (Math.random() < 0.01) {</span><br>
            <span class="space"><span class="space">è§¦å‘æŸ¥å…‹æ‹‰æ³¢åŠ¨();</span></span><br>
            <span class="space">}</span><br>
            }, 1000);<br>
        </div>

        <!-- ç«å½±ç»å…¸è¯­å½• -->
        <div class="naruto-quote">
            "æˆ‘å‘æ¥éƒ½æ˜¯æœ‰è¯ç›´è¯´ï¼Œè¿™å°±æ˜¯æˆ‘çš„å¿é“ï¼"<br>
            "å­¤ç‹¬ï¼Œä¸æ˜¯è¢«çˆ¶æ¯è´£å¤‡åéš¾è¿‡çš„é‚£ç§ç¨‹åº¦æ¯”å¾—ä¸Šçš„ï¼"<br>
            "å› ä¸ºç«å½±â€”â€”æ˜¯æˆ‘çš„æ¢¦æƒ³ï¼"<br>
            - æ¼©æ¶¡é¸£äºº (æˆ‘ä»¬çš„ç²¾ç¥å†™ç…§)
        </div>

        <!-- æ—¶é—´çº¿äº‹ä»¶ -->
        <div class="timeline-event">
            <strong>ğŸŒŒ å®‡å®™çºªå…ƒ 1:</strong> å…­é“ä»™äººåˆ›é€ å¿å®—ï¼Œçˆ±çš„æŸ¥å…‹æ‹‰åˆæ¬¡æ˜¾ç°
        </div>
        <div class="timeline-event">
            <strong>ğŸµ ç‰¹æ®Šäº‹ä»¶:</strong> åœ¨KTVè¢«å­™ç‡•å§¿çš„æ­Œå£°å”¤é†’ï¼Œå‘½è¿ä¹‹è½®å¼€å§‹è½¬åŠ¨
        </div>
        <div class="timeline-event">
            <strong>ğŸ’« å®‡å®™çºªå…ƒ 27:</strong> ç¬¬ä¸€æ¬¡è½®å›ï¼Œè¾‰å¤œå§¬é™ä¸´ï¼Œæ— é™æœˆè¯»å¯åŠ¨
        </div>
        <div class="timeline-event">
            <strong>ğŸ”¥ å®‡å®™çºªå…ƒ 54:</strong> å¿è€…ä¸–ç•Œå½¢æˆï¼Œçˆ±çš„ç¾ç»Šç©¿è¶Šæ—¶ç©º
        </div>
        <div class="timeline-event">
            <strong>â¤ï¸ å½“å‰çºªå…ƒ:</strong> ä»£ç ä¸æŸ¥å…‹æ‹‰èåˆï¼Œåˆ›é€ æ•°å­—ä¸–ç•Œçš„æ°¸æ’ä¹‹çˆ±
        </div>

        <!-- æŸ¥å…‹æ‹‰èŠ‚ç‚¹ -->
        <div class="chakra-point" style="top: 100px; left: 100px;"></div>
        <div class="chakra-point" style="top: 200px; right: 150px;"></div>
        <div class="chakra-point" style="bottom: 150px; left: 200px;"></div>
        <div class="chakra-point" style="bottom: 100px; right: 100px;"></div>
    </div>

    <!-- å®‡å®™å¤§çˆ†ç‚¸æ•ˆæœ -->
    <div class="big-bang" id="bigBang"></div>

    <!-- éŸ³é¢‘å…ƒç´  - æ”¯æŒOGGæ ¼å¼ -->
    <audio id="backgroundMusic">
        <source src="music/yanzi-kepule.ogg" type="audio/ogg">
        <source src="music/yanzi-kepule.mp3" type="audio/mp3">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
    </audio>

    <script>
        // ==================== éŸ³ä¹æ’­æ”¾å™¨æ ¸å¿ƒåŠŸèƒ½ ====================
        
        /**
         * è·å–æ‰€æœ‰éœ€è¦çš„DOMå…ƒç´ 
         * è¿™äº›å˜é‡å°†åœ¨æ•´ä¸ªè„šæœ¬ä¸­ä½¿ç”¨
         */
        const music = document.getElementById('backgroundMusic');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const progressBar = document.getElementById('progressBar');
        const progressContainer = document.getElementById('progressContainer');
        const progressHandle = document.getElementById('progressHandle');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const volumeControl = document.getElementById('volumeControl');
        const volumeValue = document.getElementById('volumeValue');
        const lyricsContainer = document.getElementById('lyricsContainer');
        const currentLyric = document.getElementById('currentLyric');
        const nextLyric = document.getElementById('nextLyric');
        const musicPlayer = document.getElementById('musicPlayer');
        const dragHandle = document.getElementById('dragHandle');

        /**
         * ç²¾ç¡®çš„æ­Œè¯æ—¶é—´è½´
         * æ ¹æ®4åˆ†09ç§’æ­Œæ›²ç²¾ç¡®è®¾ç½®ï¼Œç¬¬9ç§’å¼€å§‹å”±
         * æ ¼å¼ï¼š{ time: ç§’æ•°, text: "æ­Œè¯å†…å®¹" }
         */
        const lyrics = [
            { time: 9, text: "ç­‰ä¸åˆ°ä½  æˆä¸ºæˆ‘æœ€é—ªäº®çš„æ˜Ÿæ˜Ÿ" },
            { time: 16, text: "æˆ‘ä¾ç„¶æ„¿æ„å€Ÿç»™ä½ æˆ‘çš„å…‰" },
            { time: 23, text: "æŠ•å°„ç»™ä½  ç›´åˆ°ä½ é‚£ç¿çƒ‚çš„å…‰èŠ’" },
            { time: 30, text: "é™é™åœ°æŒ‚åœ¨é¥è¿œçš„å¤©ä¸Š" },
            { time: 37, text: "å½“ä½ æ²‰æµ¸ å¤©ç©ºé‚£æ¡å†°å†·çš„é“¶æ²³" },
            { time: 44, text: "éšæ²¡åœ¨å®‡å®™æ·±å¤„ æˆ‘æ­£ç©¿è¶Š" },
            { time: 51, text: "èŒ«èŒ«äººæµ· ä¸ºä½ ç‚¹äº® ä¸€ç›æ¸©æš–çš„ç¯ç«" },
            { time: 65, text: "ä¸€é—ªä¸€é—ªäº®æ™¶æ™¶ å¥½åƒä½ çš„èº«ä½“" },
            { time: 72, text: "è—åœ¨ä¼—å¤šå­¤æ˜Ÿä¹‹ä¸­ è¿˜æ˜¯æ‰¾å¾—åˆ°ä½ " },
            { time: 79, text: "æŒ‚åœ¨å¤©ä¸Šæ”¾å…‰æ˜ åå°„æˆ‘çš„å­¤å¯‚" },
            { time: 86, text: "æé†’æˆ‘ æˆ‘ä¹Ÿåªæ˜¯ä¸€é¢—å¯‚å¯çš„æ˜Ÿæ˜Ÿ" },
            { time: 100, text: "æµ©ç€šçš„ä¸–ç•Œé‡Œ æ›´è¿­çš„äººæµ·é‡Œ" },
            { time: 107, text: "å’Œä½ äº’ç›¸è¾‰æ˜  è®©æˆ‘ä»¬å»¶ç»­" },
            { time: 114, text: "ç”¨å°½æ‰€æœ‰æ€å¿µ å”±ä¸€é¦–æ­Œç»™ä½ " },
            { time: 121, text: "ç»™ä½  ä¸€é—ªä¸€é—ªäº®æ™¶æ™¶" },
            { time: 128, text: "å¥½åƒä½ çš„èº«ä½“ è—åœ¨ä¼—å¤šå­¤æ˜Ÿä¹‹ä¸­" },
            { time: 135, text: "è¿˜æ˜¯æ‰¾å¾—åˆ°ä½  æŒ‚åœ¨å¤©ä¸Šæ”¾å…‰æ˜" },
            { time: 142, text: "åå°„æˆ‘çš„è¿‡å» æé†’æˆ‘" },
            { time: 149, text: "æˆ‘ä¸å†æ˜¯ä¸€é¢—å¯‚å¯çš„æ˜Ÿæ˜Ÿ" },
            { time: 180, text: "ç­‰ä¸åˆ°ä½  æˆä¸ºæˆ‘æœ€é—ªäº®çš„æ˜Ÿæ˜Ÿ" },
            { time: 187, text: "æˆ‘ä¾ç„¶æ„¿æ„å€Ÿç»™ä½ æˆ‘çš„å…‰" },
            { time: 194, text: "æŠ•å°„ç»™ä½  ç›´åˆ°ä½ é‚£ç¿çƒ‚çš„å…‰èŠ’" },
            { time: 201, text: "é™é™åœ°æŒ‚åœ¨é¥è¿œçš„å¤©ä¸Š" },
            { time: 208, text: "å½“ä½ æ²‰æµ¸ å¤©ç©ºé‚£æ¡å†°å†·çš„é“¶æ²³" },
            { time: 215, text: "éšæ²¡åœ¨å®‡å®™æ·±å¤„ æˆ‘æ­£ç©¿è¶Š" },
            { time: 222, text: "èŒ«èŒ«äººæµ· ä¸ºä½ ç‚¹äº® ä¸€ç›æ¸©æš–çš„ç¯ç«" }
        ];

        // å½“å‰æ˜¾ç¤ºçš„æ­Œè¯ç´¢å¼•
        let currentLyricIndex = -1;
        // æ­Œè¯çª—å£æ˜¯å¦æ˜¾ç¤º
        let lyricsVisible = false;

        /**
         * æ’­æ”¾/æš‚åœéŸ³ä¹
         * åŠŸèƒ½ï¼šåˆ‡æ¢éŸ³ä¹çš„æ’­æ”¾çŠ¶æ€ï¼Œæ›´æ–°æŒ‰é’®å›¾æ ‡
         */
        function playPause() {
            if (music.paused) {
                // å°è¯•æ’­æ”¾éŸ³ä¹
                music.play().then(() => {
                    playPauseBtn.innerHTML = 'â¸ï¸';
                    playPauseBtn.title = 'æš‚åœ';
                }).catch(e => {
                    console.log('æ’­æ”¾å¤±è´¥ï¼Œéœ€è¦ç”¨æˆ·äº¤äº’');
                    // åœ¨æ§åˆ¶å°æç¤ºç”¨æˆ·
                    alert('è¯·å…ˆç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®æ¿€æ´»éŸ³é¢‘æƒé™ï¼Œç„¶åå†æ¬¡ç‚¹å‡»æ’­æ”¾');
                });
            } else {
                // æš‚åœéŸ³ä¹
                music.pause();
                playPauseBtn.innerHTML = 'â–¶ï¸';
                playPauseBtn.title = 'æ’­æ”¾';
            }
        }

        /**
         * å‰è¿›15ç§’
         * åŠŸèƒ½ï¼šå¿«è¿›15ç§’ï¼Œä½†ä¸è¶…è¿‡æ­Œæ›²æ€»æ—¶é•¿
         */
        function skipForward() {
            music.currentTime = Math.min(music.duration, music.currentTime + 15);
            updateProgress();
        }

        /**
         * åé€€15ç§’
         * åŠŸèƒ½ï¼šåé€€15ç§’ï¼Œä½†ä¸å°äº0
         */
        function skipBackward() {
            music.currentTime = Math.max(0, music.currentTime - 15);
            updateProgress();
        }

        /**
         * åˆ‡æ¢æ­Œè¯æ˜¾ç¤º/éšè—
         * åŠŸèƒ½ï¼šæ˜¾ç¤ºæˆ–éšè—æ­Œè¯å¼¹çª—
         */
        function toggleLyrics() {
            lyricsVisible = !lyricsVisible;
            if (lyricsVisible) {
                lyricsContainer.classList.add('show');
            } else {
                lyricsContainer.classList.remove('show');
            }
        }

        /**
         * æ›´æ–°æ­Œè¯æ˜¾ç¤º
         * åŠŸèƒ½ï¼šæ ¹æ®å½“å‰æ’­æ”¾æ—¶é—´æ˜¾ç¤ºå¯¹åº”çš„æ­Œè¯
         */
        function updateLyrics() {
            const currentTime = music.currentTime;
            
            // ä»åå¾€å‰æŸ¥æ‰¾å½“å‰åº”è¯¥æ˜¾ç¤ºçš„æ­Œè¯
            let newIndex = -1;
            for (let i = lyrics.length - 1; i >= 0; i--) {
                if (currentTime >= lyrics[i].time) {
                    newIndex = i;
                    break;
                }
            }
            
            // å¦‚æœæ­Œè¯ç´¢å¼•å‘ç”Ÿå˜åŒ–ï¼Œæ›´æ–°æ˜¾ç¤º
            if (newIndex !== currentLyricIndex) {
                currentLyricIndex = newIndex;
                
                if (currentLyricIndex >= 0) {
                    // æ›´æ–°å½“å‰æ­Œè¯
                    currentLyric.textContent = lyrics[currentLyricIndex].text;
                    
                    // æ˜¾ç¤ºä¸‹ä¸€å¥æ­Œè¯ï¼ˆå¦‚æœæœ‰ï¼‰
                    if (currentLyricIndex < lyrics.length - 1) {
                        nextLyric.textContent = lyrics[currentLyricIndex + 1].text;
                    } else {
                        nextLyric.textContent = '';
                    }
                    
                    // æ·»åŠ é«˜äº®åŠ¨ç”»æ•ˆæœ
                    currentLyric.style.transform = 'scale(1.1)';
                    currentLyric.style.color = '#ff4757';
                    setTimeout(() => {
                        currentLyric.style.transform = 'scale(1)';
                        currentLyric.style.color = '#2ed573';
                    }, 300);
                } else {
                    // æ­Œæ›²å¼€å§‹å‰æ˜¾ç¤ºæç¤º
                    currentLyric.textContent = 'éŸ³ä¹å³å°†å¼€å§‹...';
                    nextLyric.textContent = lyrics[0].text;
                }
            }
        }

        /**
         * æ›´æ–°è¿›åº¦æ¡
         * åŠŸèƒ½ï¼šæ›´æ–°è¿›åº¦æ¡å®½åº¦ã€æ—¶é—´æ˜¾ç¤ºå’Œæ­Œè¯
         */
        function updateProgress() {
            if (music.duration) {
                // è®¡ç®—æ’­æ”¾è¿›åº¦ç™¾åˆ†æ¯”
                const percent = (music.currentTime / music.duration) * 100;
                progressBar.style.width = percent + '%';
                progressHandle.style.left = percent + '%';
                
                // æ›´æ–°æ—¶é—´æ˜¾ç¤º
                currentTimeEl.textContent = formatTime(music.currentTime);
                durationEl.textContent = formatTime(music.duration);
                
                // æ›´æ–°æ­Œè¯
                updateLyrics();
            }
        }

        /**
         * æ ¼å¼åŒ–æ—¶é—´ä¸º MM:SS
         * @param {number} seconds - ç§’æ•°
         * @returns {string} æ ¼å¼åŒ–åçš„æ—¶é—´å­—ç¬¦ä¸²
         */
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        /**
         * è®¾ç½®è¿›åº¦æ¡ç‚¹å‡»è·³è½¬
         * åŠŸèƒ½ï¼šç‚¹å‡»è¿›åº¦æ¡ä»»æ„ä½ç½®è·³è½¬åˆ°å¯¹åº”æ—¶é—´
         */
        function setupProgressBar() {
            progressContainer.addEventListener('click', function(e) {
                const rect = this.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                music.currentTime = percent * music.duration;
                updateProgress();
            });
        }

        // éŸ³é‡æ§åˆ¶äº‹ä»¶ç›‘å¬
        volumeControl.addEventListener('input', function() {
            music.volume = this.value;
            volumeValue.textContent = Math.round(this.value * 100) + '%';
        });

        // ==================== æ’­æ”¾å™¨æ‹–æ‹½åŠŸèƒ½ ====================
        
        /**
         * æ’­æ”¾å™¨æ‹–æ‹½åŠŸèƒ½
         * åŠŸèƒ½ï¼šå…è®¸ç”¨æˆ·æ‹–åŠ¨æ’­æ”¾å™¨åˆ°ä»»æ„ä½ç½®
         */
        let isDragging = false;
        let dragOffset = { x: 0, y: 0 };

        /**
         * å¼€å§‹æ‹–æ‹½
         * @param {MouseEvent} e - é¼ æ ‡äº‹ä»¶
         */
        function startDrag(e) {
            // åªå“åº”å·¦é”®ç‚¹å‡»
            if (e.button !== 0) return;
            
            isDragging = true;
            musicPlayer.classList.add('dragging');
            
            // è®¡ç®—é¼ æ ‡ç›¸å¯¹äºæ’­æ”¾å™¨å·¦ä¸Šè§’çš„åç§»
            const rect = musicPlayer.getBoundingClientRect();
            dragOffset.x = e.clientX - rect.left;
            dragOffset.y = e.clientY - rect.top;
            
            // é˜²æ­¢æ–‡æœ¬é€‰ä¸­å’Œé»˜è®¤æ‹–æ‹½è¡Œä¸º
            e.preventDefault();
        }

        /**
         * æ‹–æ‹½ä¸­
         * @param {MouseEvent} e - é¼ æ ‡äº‹ä»¶
         */
        function onDrag(e) {
            if (!isDragging) return;
            
            // è®¡ç®—æ–°çš„ä½ç½®ï¼ˆé™åˆ¶åœ¨è§†å£èŒƒå›´å†…ï¼‰
            let newX = e.clientX - dragOffset.x;
            let newY = e.clientY - dragOffset.y;
            
            // è¾¹ç•Œæ£€æŸ¥ - ç¡®ä¿æ’­æ”¾å™¨ä¸ä¼šå®Œå…¨ç§»å‡ºè§†å£
            const maxX = window.innerWidth - musicPlayer.offsetWidth;
            const maxY = window.innerHeight - musicPlayer.offsetHeight;
            
            newX = Math.max(0, Math.min(newX, maxX));
            newY = Math.max(0, Math.min(newY, maxY));
            
            // åº”ç”¨æ–°ä½ç½®
            musicPlayer.style.left = newX + 'px';
            musicPlayer.style.top = newY + 'px';
            musicPlayer.style.transform = 'none'; // ç§»é™¤åˆå§‹çš„å±…ä¸­å˜æ¢
        }

        /**
         * ç»“æŸæ‹–æ‹½
         */
        function endDrag() {
            isDragging = false;
            musicPlayer.classList.remove('dragging');
        }

        // è®¾ç½®æ‹–æ‹½äº‹ä»¶ç›‘å¬
        dragHandle.addEventListener('mousedown', startDrag);
        document.addEventListener('mousemove', onDrag);
        document.addEventListener('mouseup', endDrag);

        // è§¦æ‘¸è®¾å¤‡æ”¯æŒ
        dragHandle.addEventListener('touchstart', function(e) {
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousedown', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            startDrag(mouseEvent);
        });

        document.addEventListener('touchmove', function(e) {
            if (!isDragging) return;
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousemove', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            onDrag(mouseEvent);
            e.preventDefault();
        });

        document.addEventListener('touchend', endDrag);

        // ==================== å…¶ä»–ç³»ç»ŸåŠŸèƒ½ ====================
        
        /**
         * åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
         * åŠŸèƒ½ï¼šåœ¨å®‡å®™èƒŒæ™¯ä¸­ç”Ÿæˆéšæœºåˆ†å¸ƒçš„æ˜Ÿæ˜Ÿ
         */
        function createStars() {
            const universe = document.getElementById('universe');
            // åˆ›å»º200é¢—æ˜Ÿæ˜Ÿ
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                // éšæœºä½ç½®
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                // éšæœºå¤§å°
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                // éšæœºé—ªçƒå»¶è¿Ÿ
                star.style.animationDelay = Math.random() * 3 + 's';
                universe.appendChild(star);
            }
        }

        /**
         * è§¦å‘å®‡å®™å¤§çˆ†ç‚¸
         * åŠŸèƒ½ï¼šæ’­æ”¾å¤§çˆ†ç‚¸åŠ¨ç”»æ•ˆæœ
         */
        function triggerBigBang() {
            const bigBang = document.getElementById('bigBang');
            // é‡ç½®åŠ¨ç”»
            bigBang.classList.remove('active');
            // è§¦å‘é‡æ’ä»¥é‡æ–°å¯åŠ¨åŠ¨ç”»
            void bigBang.offsetWidth;
            bigBang.classList.add('active');
            
            // æ·»åŠ é¡µé¢éœ‡åŠ¨æ•ˆæœ
            document.body.style.animation = 'none';
            setTimeout(() => {
                document.body.style.animation = 'shake 0.5s';
            }, 10);
            
            console.log("ğŸ’¥ å®‡å®™å¤§çˆ†ç‚¸å·²è§¦å‘ï¼");
        }

        /**
         * æ›´æ–°è½®å›æ˜¾ç¤º
         * åŠŸèƒ½ï¼šè®¡ç®—å¹¶æ˜¾ç¤ºå½“å‰è½®å›å‘¨æœŸ
         */
        function updateCycleDisplay() {
            const currentYear = new Date().getFullYear();
            // è®¡ç®—å½“å‰è½®å›å‘¨æœŸ (å‡è®¾ä»2024å¹´å¼€å§‹)
            const cycle = Math.floor((currentYear - 2024) / 27) + 1;
            document.getElementById('currentCycle').textContent = cycle;
        }

        /**
         * è§¦å‘æŸ¥å…‹æ‹‰æ³¢åŠ¨
         * åŠŸèƒ½ï¼šé‡ç½®æŸ¥å…‹æ‹‰èŠ‚ç‚¹çš„åŠ¨ç”»ï¼Œåˆ›å»ºè„‰åŠ¨æ•ˆæœ
         */
        function triggerChakraFluctuation() {
            const points = document.querySelectorAll('.chakra-point');
            points.forEach(point => {
                point.style.animation = 'none';
                setTimeout(() => {
                    point.style.animation = 'chakraGlow 2s infinite';
                }, 10);
            });
        }

        // ==================== åˆå§‹åŒ–è®¾ç½® ====================
        
        /**
         * é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œåˆå§‹åŒ–
         * è¿™æ˜¯æ•´ä¸ªåº”ç”¨çš„å…¥å£ç‚¹
         */
        document.addEventListener('DOMContentLoaded', function() {
            // 1. åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
            createStars();
            
            // 2. æ›´æ–°è½®å›æ˜¾ç¤º
            updateCycleDisplay();
            
            // 3. è®¾ç½®éŸ³ä¹äº‹ä»¶ç›‘å¬
            music.addEventListener('timeupdate', updateProgress);
            music.addEventListener('ended', function() {
                // æ­Œæ›²ç»“æŸæ—¶é‡ç½®æ’­æ”¾æŒ‰é’®
                playPauseBtn.innerHTML = 'â–¶ï¸';
                playPauseBtn.title = 'æ’­æ”¾';
            });
            
            // 4. è®¾ç½®è¿›åº¦æ¡ç‚¹å‡»è·³è½¬
            setupProgressBar();
            
            // 5. è®¾ç½®åˆå§‹éŸ³é‡
            music.volume = volumeControl.value;
            
            // 6. æ·»åŠ éœ‡åŠ¨åŠ¨ç”»CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    25% { transform: translateX(-10px); }
                    75% { transform: translateX(10px); }
                }
            `;
            document.head.appendChild(style);
            
            // 7. ç”¨æˆ·äº¤äº’ååˆå§‹åŒ–éŸ³ä¹ï¼ˆæµè§ˆå™¨å®‰å…¨ç­–ç•¥ï¼‰
            document.addEventListener('click', function initAudio() {
                // ç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œé¿å…é‡å¤è§¦å‘
                document.removeEventListener('click', initAudio);
                
                // å°è¯•æ’­æ”¾ç„¶åç«‹å³æš‚åœï¼Œä»¥æ¿€æ´»éŸ³é¢‘ä¸Šä¸‹æ–‡
                music.volume = 0;
                music.play().then(() => {
                    music.pause();
                    music.volume = volumeControl.value;
                    console.log('ğŸµ éŸ³é¢‘ç³»ç»Ÿå·²æ¿€æ´»ï¼Œå¯ä»¥æ­£å¸¸æ’­æ”¾');
                }).catch(e => {
                    console.log('éŸ³é¢‘åˆå§‹åŒ–å¤±è´¥ï¼Œéœ€è¦ç”¨æˆ·äº¤äº’');
                });
            });
            
            // 8. æ¨¡æ‹Ÿè½®å›ç³»ç»Ÿ - æ¯27ç§’æ¼”ç¤ºä¸€æ¬¡å¤§çˆ†ç‚¸
            setInterval(() => {
                if (Math.random() < 0.05) { // 5%å‡ ç‡è§¦å‘æ¼”ç¤º
                    triggerBigBang();
                    updateCycleDisplay();
                }
            }, 27000);
            
            // 9. éšæœºè§¦å‘æŸ¥å…‹æ‹‰æ³¢åŠ¨
            setInterval(() => {
                if (Math.random() < 0.01) {
                    triggerChakraFluctuation();
                }
            }, 1000);
            
            // 10. æ§åˆ¶å°è¾“å‡ºæ¬¢è¿ä¿¡æ¯
            console.log(`%c
             ğŸŒ€ å…­é“è½®å›ç³»ç»Ÿå·²å¯åŠ¨ ğŸŒ€
             ğŸµ éŸ³ä¹æ—¶é•¿: 4åˆ†09ç§’ (ç¬¬9ç§’å¼€å§‹æ¼”å”±)
             ğŸ’¥ å¤§çˆ†ç‚¸ç³»ç»Ÿ: å°±ç»ª
             ğŸ“ æ­Œè¯ç³»ç»Ÿ: ç²¾ç¡®æ—¶é—´è½´å¯¹é½
             ğŸ® æ’­æ”¾å™¨: å¯æ‹–æ‹½è®¾è®¡
             ğŸŒŸ ä½¿ç”¨è¯´æ˜: æ‹–åŠ¨æ’­æ”¾å™¨æ ‡é¢˜å¯ç§»åŠ¨ä½ç½®
            `, 'color: #ff4757; font-size: 14px; font-weight: bold;');
        });
    </script>
</body>
</html>