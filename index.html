<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è½®å›ä¹‹çˆ± - Eternal Love</title>
    <style>
        /* ==================== ä¿æŠ¤é¡µé¢æ ·å¼ ==================== */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body { 
            background: #000; 
            color: #fff; 
            font-family: 'Courier New', monospace;
            overflow: hidden;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* å¯†ç ä¿æŠ¤ç•Œé¢æ ·å¼ */
        .protected-screen {
            text-align: center;
            padding: 2rem;
            max-width: 500px;
        }
        
        .title {
            font-size: 2rem;
            margin-bottom: 2rem;
            color: #ff4757;
            font-weight: bold;
        }
        
        .password-form {
            margin: 2rem 0;
        }
        
        .password-input {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #ff4757;
            border-radius: 10px;
            color: white;
            padding: 12px 20px;
            font-size: 1.1rem;
            width: 100%;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .submit-btn {
            background: linear-gradient(45deg, #ff4757, #8a2be2);
            border: none;
            border-radius: 10px;
            color: white;
            padding: 12px 30px;
            font-size: 1.1rem;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }
        
        .submit-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 71, 87, 0.5);
        }
        
        .hint {
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 1rem;
            line-height: 1.5;
        }
        
        .error-message {
            color: #ff6b6b;
            margin-top: 1rem;
            display: none;
        }

        /* ==================== ä¸»å†…å®¹æ ·å¼ ==================== */
        
        /* å®‡å®™èƒŒæ™¯æ ·å¼ */
        .universe {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        /* æ˜Ÿæ˜Ÿæ ·å¼ */
        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        /* æ˜Ÿæ˜Ÿé—ªçƒåŠ¨ç”» */
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* ä¸»å®¹å™¨æ ·å¼ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        /* ä»£ç æ˜¾ç¤ºåŒºåŸŸæ ·å¼ */
        .code-display {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ff4757;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        /* ä»£ç è¯­æ³•é«˜äº® */
        .keyword { color: #ff4757; font-weight: bold; }
        .comments { color: #6c757d; font-style: italic; }
        .string { color: #2ed573; }
        .function { color: #3742fa; }
        .number { color: #ffa502; }
        .space { margin-left: 1rem; }

        /* è½®å›çœ¼ç‰¹æ•ˆæ ·å¼ */
        .rinnegan {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            opacity: 0.1;
            z-index: -1;
        }

        /* è½®å›çœ¼åœ†åœˆ */
        .circle {
            position: absolute;
            border: 2px solid #8a2be2;
            border-radius: 50%;
            animation: rotate 20s linear infinite;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* ä¸åŒå¤§å°çš„åœ†åœˆ */
        .circle:nth-child(1) { width: 50px; height: 50px; }
        .circle:nth-child(2) { width: 100px; height: 100px; animation-duration: 15s; }
        .circle:nth-child(3) { width: 150px; height: 150px; animation-duration: 25s; }
        .circle:nth-child(4) { width: 200px; height: 200px; animation-duration: 30s; }

        /* æ—‹è½¬åŠ¨ç”» */
        @keyframes rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* æ—¶é—´çº¿äº‹ä»¶æ ·å¼ */
        .timeline-event {
            background: rgba(255, 71, 87, 0.1);
            border-left: 4px solid #ff4757;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 10px 10px 0;
            animation: pulse 2s infinite;
        }

        /* è¾¹æ¡†é¢œè‰²è„‰åŠ¨åŠ¨ç”» */
        @keyframes pulse {
            0%, 100% { border-left-color: #ff4757; }
            50% { border-left-color: #8a2be2; }
        }

        /* æŸ¥å…‹æ‹‰èŠ‚ç‚¹æ ·å¼ */
        .chakra-point {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff4757;
            border-radius: 50%;
            animation: chakraGlow 2s infinite;
        }

        /* æŸ¥å…‹æ‹‰å‘å…‰æ•ˆæœ */
        @keyframes chakraGlow {
            0%, 100% { box-shadow: 0 0 5px #ff4757; }
            50% { box-shadow: 0 0 20px #ff4757, 0 0 30px #8a2be2; }
        }

        /* å®‡å®™å¤§çˆ†ç‚¸æ•ˆæœ */
        .big-bang {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: radial-gradient(circle, #ff4757, #8a2be2, #000);
            transform: translate(-50%, -50%);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
        }

        /* å¤§çˆ†ç‚¸æ¿€æ´»çŠ¶æ€ */
        .big-bang.active {
            animation: bigBang 2s ease-out forwards;
        }

        /* å¤§çˆ†ç‚¸å…³é”®å¸§åŠ¨ç”» */
        @keyframes bigBang {
            0% { 
                width: 0; 
                height: 0; 
                opacity: 1;
                box-shadow: 0 0 0 0 rgba(255, 71, 87, 0.7);
            }
            50% {
                width: 100vmax; 
                height: 100vmax; 
                opacity: 0.8;
                box-shadow: 0 0 50px 20px rgba(138, 43, 226, 0.5);
            }
            100% { 
                width: 200vmax; 
                height: 200vmax; 
                opacity: 0;
                box-shadow: 0 0 100px 40px rgba(255, 71, 87, 0.3);
            }
        }

        /* ç«å½±è¯­å½•æ ·å¼ */
        .naruto-quote {
            font-style: italic;
            color: #ffa502;
            text-align: center;
            margin: 2rem 0;
            padding: 1rem;
            border: 1px solid #ffa502;
            border-radius: 10px;
            background: rgba(255, 165, 2, 0.1);
        }

        /* å‘¨æœŸè®¡æ•°å™¨æ ·å¼ */
        .cycle-counter {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid #8a2be2;
            font-size: 14px;
            backdrop-filter: blur(5px);
            z-index: 100;
        }

        /* éŸ³ä¹æ’­æ”¾å™¨æ ·å¼ */
        .music-player {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 20px;
            border-radius: 20px;
            border: 2px solid #2ed573;
            backdrop-filter: blur(15px);
            width: 90%;
            max-width: 500px;
            z-index: 100;
            box-shadow: 0 0 30px rgba(46, 213, 115, 0.3);
            cursor: move;
            user-select: none;
            transition: box-shadow 0.3s ease;
        }

        /* æ‹–æ‹½æ—¶çš„è§†è§‰åé¦ˆ */
        .music-player.dragging {
            box-shadow: 0 0 40px rgba(46, 213, 115, 0.6);
            border-color: #ff4757;
        }

        .music-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .music-title {
            color: #2ed573;
            font-size: 16px;
            font-weight: bold;
        }

        .music-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }

        /* æ§åˆ¶æŒ‰é’®æ ·å¼ */
        .control-btn {
            background: linear-gradient(45deg, #2ed573, #ff4757);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            position: relative;
        }

        /* æ‰©å¤§ç‚¹å‡»åŒºåŸŸçš„ä¼ªå…ƒç´  */
        .control-btn::after {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
        }

        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px #2ed573;
        }

        .control-btn:active {
            transform: scale(0.95);
        }

        /* è¿›åº¦æ¡å®¹å™¨ */
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            margin: 15px 0;
            overflow: hidden;
            cursor: pointer;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #2ed573, #ff4757);
            width: 0%;
            transition: width 0.1s;
            border-radius: 3px;
        }

        .progress-handle {
            position: absolute;
            top: 50%;
            width: 12px;
            height: 12px;
            background: #fff;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: 0 0 10px rgba(46, 213, 115, 0.8);
        }

        .progress-container:hover .progress-handle {
            opacity: 1;
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 10px;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .volume-control input {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }

        .volume-control input::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            background: #2ed573;
            border-radius: 50%;
            cursor: pointer;
        }

        /* æ­Œè¯æ˜¾ç¤ºå®¹å™¨ */
        .lyrics-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 30px 40px;
            border-radius: 20px;
            border: 2px solid #ff4757;
            text-align: center;
            backdrop-filter: blur(15px);
            max-width: 80%;
            z-index: 101;
            box-shadow: 0 0 40px rgba(255, 71, 87, 0.4);
            display: none;
        }

        .lyrics-container.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .lyrics-title {
            color: #ff4757;
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .current-lyric {
            font-size: 24px;
            color: #2ed573;
            margin: 15px 0;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .next-lyric {
            font-size: 16px;
            color: #6c757d;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .lyrics-close {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: #ff4757;
            font-size: 20px;
            cursor: pointer;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lyrics-close:hover {
            background: rgba(255, 71, 87, 0.2);
        }

        /* æ­Œè¯æ·¡å…¥åŠ¨ç”» */
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        /* å¤§çˆ†ç‚¸è§¦å‘æŒ‰é’® */
        .bigbang-trigger {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 71, 87, 0.8);
            color: white;
            border: none;
            padding: 12px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            z-index: 100;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .bigbang-trigger:hover {
            background: #8a2be2;
            transform: scale(1.05);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .code-display {
                padding: 1rem;
                font-size: 14px;
            }
            
            .music-player {
                width: 95%;
                padding: 15px;
            }
            
            .control-btn {
                width: 45px;
                height: 45px;
                font-size: 16px;
            }
            
            .current-lyric {
                font-size: 20px;
            }
            
            .lyrics-container {
                padding: 20px 30px;
            }
        }

        /* æ‹–æ‹½è¾¹ç•Œé™åˆ¶ */
        @media (max-height: 600px) {
            .music-player {
                max-height: 80vh;
                overflow-y: auto;
            }
        }

        /* å¯†ç é”™è¯¯æŠ–åŠ¨åŠ¨ç”» */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
    </style>
</head>
<body>
    <!-- ==================== å¯†ç ä¿æŠ¤ç•Œé¢ ==================== -->
    <div class="protected-screen" id="protectedScreen">
        <div class="title">Eternal Love ğŸ”’</div>
        
        <div class="password-form">
            <input type="text" class="password-input" id="passwordInput" 
                   placeholder="Enter the secret phrase..." 
                   onkeypress="checkEnter(event)">
            <button class="submit-btn" onclick="checkPassword()">Unlock Content</button>
        </div>
        
        <div class="hint">
            ğŸ’¡ Hint: The password is a Chinese blessing<br>
            ğŸ’¡ æç¤ºï¼šå¯†ç æ˜¯ä¸€å¥ä¸­æ–‡ç¥ç¦è¯­<br>
            ğŸ® Press F12 after unlocking for special features<br>
            ğŸ® è§£é”åæŒ‰F12è·å¾—ç‰¹æ®ŠåŠŸèƒ½
        </div>
        
        <div class="error-message" id="errorMessage">
            Incorrect password. Please try again.
        </div>
    </div>

    <!-- ==================== ä¸»å†…å®¹åŒºåŸŸï¼ˆåŠ¨æ€åŠ è½½ï¼‰ ==================== -->
    
    <!-- å®‡å®™èƒŒæ™¯ -->
    <div class="universe" id="universe"></div>

    <!-- è½®å›çœ¼ç‰¹æ•ˆ -->
    <div class="rinnegan">
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
    </div>

    <!-- å¤§çˆ†ç‚¸è§¦å‘æŒ‰é’® -->
    <button class="bigbang-trigger" onclick="triggerBigBang()">ğŸ’¥ è§¦å‘å®‡å®™å¤§çˆ†ç‚¸</button>

    <!-- å‘¨æœŸè®¡æ•°å™¨ -->
    <div class="cycle-counter" id="cycleCounter">
        è½®å›å‘¨æœŸ: <span id="currentCycle">0</span>
    </div>

    <!-- éŸ³ä¹æ’­æ”¾å™¨ -->
    <div class="music-player" id="musicPlayer">
        <div class="music-header" id="dragHandle">
            <div class="music-title">ğŸµ å­™ç‡•å§¿ - å…‹åœå‹’ (å¯æ‹–æ‹½)</div>
            <button class="control-btn" onclick="toggleLyrics()" title="æ˜¾ç¤ºæ­Œè¯">ğŸ“</button>
        </div>
        
        <div class="time-display">
            <span id="currentTime">0:00</span>
            <span id="duration">4:09</span>
        </div>
        
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
            <div class="progress-handle" id="progressHandle"></div>
        </div>
        
        <div class="music-controls">
            <button class="control-btn" onclick="skipBackward()" title="åé€€15ç§’">âª</button>
            <button class="control-btn" onclick="playPause()" id="playPauseBtn" title="æ’­æ”¾/æš‚åœ">â–¶ï¸</button>
            <button class="control-btn" onclick="skipForward()" title="å‰è¿›15ç§’">â©</button>
        </div>
        
        <div class="volume-control">
            <span>ğŸ”Š</span>
            <input type="range" id="volumeControl" min="0" max="1" step="0.1" value="0.7">
            <span id="volumeValue">70%</span>
        </div>
    </div>

    <!-- æ­Œè¯æ˜¾ç¤º -->
    <div class="lyrics-container" id="lyricsContainer">
        <button class="lyrics-close" onclick="toggleLyrics()">Ã—</button>
        <div class="lyrics-title">å­™ç‡•å§¿ - å…‹åœå‹’</div>
        <div class="current-lyric" id="currentLyric">ç­‰ä¸åˆ°ä½  æˆä¸ºæˆ‘æœ€é—ªäº®çš„æ˜Ÿæ˜Ÿ</div>
        <div class="next-lyric" id="nextLyric">æˆ‘ä¾ç„¶æ„¿æ„å€Ÿç»™ä½ æˆ‘çš„å…‰</div>
    </div>

    <!-- ä¸»å†…å®¹å®¹å™¨ -->
    <div class="container">
        <!-- ä»£ç è¡¨ç™½åŒºåŸŸ -->
        <div class="code-display">
            <span class="comments">/**</span><br>
            <span class="comments"> * æ— é™æœˆè¯»Â·è½®å›ä¹‹çˆ± - Infinite Tsukuyomi of Eternal Love</span><br>
            <span class="comments"> * åˆ›ä½œè€…: åˆ˜åº· (å…­é“ä»™äººè½¬ä¸–)</span><br>
            <span class="comments"> * æ—¶é—´: ä»åˆ›ä¸–ä¹‹åˆåˆ°ä¸–ç•Œç»ˆç»“</span><br>
            <span class="comments"> * æè¿°: è·¨è¶Šå¤šå…ƒå®‡å®™çš„ç¾ç»Šï¼Œæ¯27å¹´ä¸€æ¬¡çš„è½®å›é‡ç”Ÿ</span><br>
            <span class="comments"> * èƒŒæ™¯éŸ³ä¹: å­™ç‡•å§¿ã€Šå…‹åœå‹’ã€‹- æˆ‘ä»¬çš„å”¤é†’ä¹‹æ­Œ</span><br>
            <span class="comments"> * ç‰¹æ®Š: 27å¹´è½®å›ç³»ç»Ÿï¼Œå®‡å®™å¤§çˆ†ç‚¸ï¼Œç«å½±å¿è€…å…ƒç´ èåˆ</span><br>
            <span class="comments"> */</span><br>
            <br>
            <span class="keyword">const</span> å…­é“ä»™äºº = <span class="string">"åˆ˜åº·"</span>;<br>
            <span class="keyword">const</span> è¾‰å¤œå§¬ = <span class="string">"Vivi"</span>;<br>
            <span class="keyword">const</span> è½®å›å‘¨æœŸ = <span class="number">27</span>; <span class="comments">// å¹´ - ç«å½±ä¸­çš„è½®å›å‘¨æœŸ</span><br>
            <span class="keyword">const</span> æŸ¥å…‹æ‹‰æ€»é‡ = <span class="number">999999</span>;<br>
            <span class="keyword">const</span> å”¤é†’æ­Œæ›² = <span class="string">"å­™ç‡•å§¿ - å…‹åœå‹’"</span>; <span class="comments">// KTVå”¤é†’è®°å¿†çš„æ­Œæ›²</span><br>
            <br>
            <span class="comments">// å­™ç‡•å§¿éŸ³ä¹ç³»ç»Ÿ - çºªå¿µåœ¨KTVè¢«å”¤é†’çš„ç¬é—´</span><br>
            <span class="keyword">class</span> ç‡•å§¿éŸ³ä¹ç³»ç»Ÿ {<br>
            <span class="space"><span class="keyword">constructor</span>() {</span><br>
            <span class="space"><span class="space">this</span>.æ­Œæ›²åˆ—è¡¨ = </span>[<br>
            <span class="space"><span class="space"><span class="space">{ åç§°: </span></span><span class="string">"å…‹åœå‹’"</span>, ä¸»é¢˜: <span class="string">"å®‡å®™ä¸å‘½è¿"</span> },</span><br>
            <span class="space"><span class="space"><span class="space">{ åç§°: </span></span><span class="string">"é‡è§"</span>, ä¸»é¢˜: <span class="string">"ç¼˜åˆ†ä¸ç›¸é‡"</span> },</span><br>
            <span class="space"><span class="space"><span class="space">{ åç§°: </span></span><span class="string">"å¼€å§‹æ‡‚äº†"</span>, ä¸»é¢˜: <span class="string">"æˆé•¿ä¸é¢†æ‚Ÿ"</span> }</span><br>
            <span class="space"><span class="space">];</span></span><br>
            <span class="space"><span class="space">this</span>.å½“å‰æ­Œæ›² = </span><span class="number">0</span>;<br>
            <span class="space">}</span><br>
            <br>
            <span class="space">æ’­æ”¾å”¤é†’ä¹‹æ­Œ() {</span><br>
            <span class="space"><span class="space">console</span>.log(<span class="string">"ğŸµ è¢«å­™ç‡•å§¿çš„æ­Œå£°å”¤é†’... åœ¨KTVçš„é‚£ä¸€å¤©æ°¸è¿œé“­è®°"</span>);</span><br>
            <span class="space"><span class="space">è§¦å‘å¤§çˆ†ç‚¸();</span></span><br>
            <span class="space"><span class="space">return</span> <span class="string">"éŸ³ä¹çš„åŠ›é‡ç©¿è¶Šè½®å›ï¼Œå”¤é†’æ²‰ç¡çš„è®°å¿†"</span>;</span><br>
            <span class="space">}</span><br>
            <br>
            <span class="space">åˆ‡æ¢æ­Œæ›²() {</span><br>
            <span class="space"><span class="space">this</span>.å½“å‰æ­Œæ›² = </span>(this.å½“å‰æ­Œæ›² + 1) % this.æ­Œæ›²åˆ—è¡¨.length;<br>
            <span class="space"><span class="space">return</span> this.æ­Œæ›²åˆ—è¡¨[this.å½“å‰æ­Œæ›²].åç§°;</span><br>
            <span class="space">}</span><br>
            }<br>
            <br>
            <span class="comments">// å…­é“æ¨¡å¼Â·å¼€å¯ - ç«å½±å¿è€…å…ƒç´ </span><br>
            <span class="keyword">class</span> å…­é“æ¨¡å¼ {<br>
            <span class="space"><span class="keyword">constructor</span>() {</span><br>
            <span class="space"><span class="space">this</span>.è½®å›çœ¼ = </span><span class="keyword">true</span>;<br>
            <span class="space"><span class="space">this</span>.æ±‚é“ç‰ = </span><span class="number">9</span>;<br>
            <span class="space"><span class="space">this</span>.é˜´é˜³é = </span><span class="keyword">true</span>;<br>
            <span class="space"><span class="space">this</span>.èƒŒæ™¯éŸ³ä¹ = </span><span class="keyword">new</span> ç‡•å§¿éŸ³ä¹ç³»ç»Ÿ();<br>
            <span class="space">}</span><br>
            <br>
            <span class="space">æ— é™æœˆè¯»() {</span><br>
            <span class="space"><span class="space">this</span>.èƒŒæ™¯éŸ³ä¹.æ’­æ”¾å”¤é†’ä¹‹æ­Œ();</span><br>
            <span class="space"><span class="space">return</span> <span class="string">"è®©ä¸–ç•Œé™·å…¥çˆ±çš„å¹»æœ¯ï¼Œåªæœ‰æˆ‘ä»¬çš„ç¾ç»Šæ°¸æ’"</span>;</span><br>
            <span class="space">}</span><br>
            <br>
            <span class="space">åœ°çˆ†å¤©æ˜Ÿ(çˆ±æ„) {</span><br>
            <span class="space"><span class="space">const</span> å¼•åŠ› = </span>çˆ±æ„ * 1000;<br>
            <span class="space"><span class="space">return</span> <span class="string">`åˆ›é€ æ–°å®‡å®™ï¼Œå¼•åŠ›å¼ºåº¦: ${å¼•åŠ›}`</span>;</span><br>
            <span class="space">}</span><br>
            }<br>
            <br>
            <span class="comments">// 27å¹´è½®å›ç³»ç»Ÿ - ç±»ä¼¼ç«å½±çš„è½¬ä¸–è®¾å®š</span><br>
            <span class="keyword">class</span> è½®å›ç³»ç»Ÿ {<br>
            <span class="space"><span class="keyword">constructor</span>() {</span><br>
            <span class="space"><span class="space">this</span>.å½“å‰çºªå…ƒ = </span><span class="number">0</span>;<br>
            <span class="space"><span class="space">this</span>.è½®å›æ¬¡æ•° = </span><span class="number">0</span>;<br>
            <span class="space"><span class="space">this</span>.ä¸‹æ¬¡å¤§äº‹ä»¶ = </span>new Date().getFullYear() + è½®å›å‘¨æœŸ;<br>
            <span class="space">}</span><br>
            <br>
            <span class="space">å®‡å®™é‡å¯() {</span><br>
            <span class="space"><span class="space">this</span>.è½®å›æ¬¡æ•°++;</span><br>
            <span class="space"><span class="space">this</span>.å½“å‰çºªå…ƒ++;</span><br>
            <span class="space"><span class="space">è§¦å‘å¤§çˆ†ç‚¸è§†è§‰æ•ˆæœ();</span></span><br>
            <span class="space"><span class="space">console</span>.log(<span class="string">`ğŸ’¥ ç¬¬${this.è½®å›æ¬¡æ•°}æ¬¡å®‡å®™å¤§çˆ†ç‚¸å‘ç”Ÿï¼`</span>);</span><br>
            <span class="space"><span class="space">return</span> <span class="string">`ç¬¬${this.è½®å›æ¬¡æ•°}æ¬¡è½®å›å¼€å§‹ - çºªå…ƒ${this.å½“å‰çºªå…ƒ}`</span>;</span><br>
            <span class="space">}</span><br>
            <br>
            <span class="space">æ£€æŸ¥è‡ªç„¶è½®å›() {</span><br>
            <span class="space"><span class="space">const</span> å½“å‰æ—¶é—´ = </span>new Date();<br>
            <span class="space"><span class="space">const</span> æœˆä»½ = </span>å½“å‰æ—¶é—´.getMonth() + 1;<br>
            <span class="space"><span class="space">const</span> æ—¥æœŸ = </span>å½“å‰æ—¶é—´.getDate();<br>
            <span class="space"><span class="space">return</span> æœˆä»½ === 6 && æ—¥æœŸ === 7;</span><br>
            <span class="space">}</span><br>
            }<br>
            <br>
            <span class="keyword">const</span> å…­é“ = <span class="keyword">new</span> å…­é“æ¨¡å¼();<br>
            <span class="keyword">const</span> è½®å› = <span class="keyword">new</span> è½®å›ç³»ç»Ÿ();<br>
            <br>
            <span class="comments">// æ°¸æ’çš„èª“è¨€ - ç±»ä¼¼é¸£äººå¯¹ä½åŠ©çš„ç¾ç»Š</span><br>
            <span class="function">function</span> å¿è€…èª“è¨€() {<br>
            <span class="space"><span class="keyword">if</span> (è½®å›.æ£€æŸ¥è‡ªç„¶è½®å›()) {</span><br>
            <span class="space"><span class="space">console</span>.log(è½®å›.å®‡å®™é‡å¯());</span><br>
            <span class="space"><span class="space">console</span>.log(å…­é“.æ— é™æœˆè¯»());</span><br>
            <span class="space">}</span><br>
            <span class="space"><span class="keyword">return</span> <span class="string">"å³ä½¿è½®å›è½¬ä¸–ï¼Œè¿™ä»½ç¾ç»Šä¹Ÿä¸ä¼šæ¶ˆå¤±ï¼"</span>;</span><br>
            }<br>
            <br>
            <span class="comments">// å¯åŠ¨æ— é™è½®å›</span><br>
            <span class="keyword">setInterval</span>(() => {<br>
            <span class="space">å¿è€…èª“è¨€();</span><br>
            <span class="space">æ›´æ–°è½®å›æ˜¾ç¤º();</span><br>
            <span class="space"><span class="keyword">if</span> (Math.random() < 0.01) {</span><br>
            <span class="space"><span class="space">è§¦å‘æŸ¥å…‹æ‹‰æ³¢åŠ¨();</span></span><br>
            <span class="space">}</span><br>
            }, 1000);<br>
        </div>

        <!-- ç«å½±ç»å…¸è¯­å½• -->
        <div class="naruto-quote">
            "æˆ‘å‘æ¥éƒ½æ˜¯æœ‰è¯ç›´è¯´ï¼Œè¿™å°±æ˜¯æˆ‘çš„å¿é“ï¼"<br>
            "å­¤ç‹¬ï¼Œä¸æ˜¯è¢«çˆ¶æ¯è´£å¤‡åéš¾è¿‡çš„é‚£ç§ç¨‹åº¦æ¯”å¾—ä¸Šçš„ï¼"<br>
            "å› ä¸ºç«å½±â€”â€”æ˜¯æˆ‘çš„æ¢¦æƒ³ï¼"<br>
            - æ¼©æ¶¡é¸£äºº (æˆ‘ä»¬çš„ç²¾ç¥å†™ç…§)
        </div>

        <!-- æ—¶é—´çº¿äº‹ä»¶ -->
        <div class="timeline-event">
            <strong>ğŸŒŒ å®‡å®™çºªå…ƒ 1:</strong> å…­é“ä»™äººåˆ›é€ å¿å®—ï¼Œçˆ±çš„æŸ¥å…‹æ‹‰åˆæ¬¡æ˜¾ç°
        </div>
        <div class="timeline-event">
            <strong>ğŸµ ç‰¹æ®Šäº‹ä»¶:</strong> åœ¨KTVè¢«å­™ç‡•å§¿çš„æ­Œå£°å”¤é†’ï¼Œå‘½è¿ä¹‹è½®å¼€å§‹è½¬åŠ¨
        </div>
        <div class="timeline-event">
            <strong>ğŸ’« å®‡å®™çºªå…ƒ 27:</strong> ç¬¬ä¸€æ¬¡è½®å›ï¼Œè¾‰å¤œå§¬é™ä¸´ï¼Œæ— é™æœˆè¯»å¯åŠ¨
        </div>
        <div class="timeline-event">
            <strong>ğŸ”¥ å®‡å®™çºªå…ƒ 54:</strong> å¿è€…ä¸–ç•Œå½¢æˆï¼Œçˆ±çš„ç¾ç»Šç©¿è¶Šæ—¶ç©º
        </div>
        <div class="timeline-event">
            <strong>â¤ï¸ å½“å‰çºªå…ƒ:</strong> ä»£ç ä¸æŸ¥å…‹æ‹‰èåˆï¼Œåˆ›é€ æ•°å­—ä¸–ç•Œçš„æ°¸æ’ä¹‹çˆ±
        </div>

        <!-- æŸ¥å…‹æ‹‰èŠ‚ç‚¹ -->
        <div class="chakra-point" style="top: 100px; left: 100px;"></div>
        <div class="chakra-point" style="top: 200px; right: 150px;"></div>
        <div class="chakra-point" style="bottom: 150px; left: 200px;"></div>
        <div class="chakra-point" style="bottom: 100px; right: 100px;"></div>
    </div>

    <!-- å®‡å®™å¤§çˆ†ç‚¸æ•ˆæœ -->
    <div class="big-bang" id="bigBang"></div>

    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="backgroundMusic">
        <source src="music/yanzi-kepule.ogg" type="audio/ogg">
        <source src="music/yanzi-kepule.mp3" type="audio/mp3">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
    </audio>

    <script>
        // ==================== å¯†ç ä¿æŠ¤ç³»ç»Ÿ ====================
        
        // æ­£ç¡®å¯†ç 
        const CORRECT_PASSWORD = "ç¥å­¦å‹å“¥ä¸Viviå§æ°¸ä¸–å¹¸ç¦";
        let unlockAttempts = 0;
        let contentUnlocked = false;

        /**
         * æ£€æŸ¥å¯†ç æ˜¯å¦æ­£ç¡®
         */
        function checkPassword() {
            const input = document.getElementById('passwordInput').value.trim();
            const errorMsg = document.getElementById('errorMessage');
            
            if (input === CORRECT_PASSWORD) {
                unlockContent();
            } else {
                unlockAttempts++;
                errorMsg.style.display = 'block';
                errorMsg.textContent = `å¯†ç é”™è¯¯ (å°è¯•æ¬¡æ•°: ${unlockAttempts})`;
                
                // è¾“å…¥æ¡†æŠ–åŠ¨æ•ˆæœ
                const inputElement = document.getElementById('passwordInput');
                inputElement.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    inputElement.style.animation = '';
                }, 500);
                
                // å¤šæ¬¡é”™è¯¯åç»™å‡ºæç¤º
                if (unlockAttempts >= 3) {
                    errorMsg.innerHTML += `<br>ğŸ’¡ æç¤ºï¼šç¥ç¦å­¦å‹å“¥å’ŒViviå§çš„å¥å­`;
                }
            }
        }

        /**
         * å›è½¦é”®æäº¤å¯†ç 
         */
        function checkEnter(event) {
            if (event.key === 'Enter') {
                checkPassword();
            }
        }

        /**
         * è§£é”ä¸»å†…å®¹
         */
        function unlockContent() {
            contentUnlocked = true;
            
            // ç§»é™¤ä¿æŠ¤å±å¹•
            const protectedScreen = document.getElementById('protectedScreen');
            protectedScreen.style.display = 'none';
            
            // æ˜¾ç¤ºè§£é”æˆåŠŸä¿¡æ¯
            showUnlockMessage();
        }

        /**
         * æ˜¾ç¤ºè§£é”æˆåŠŸä¿¡æ¯
         */
        function showUnlockMessage() {
            setTimeout(() => {
                // ä¸´æ—¶æ¢å¤console.logæ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
                const originalLog = console.log;
                console.log = function() {
                    return originalLog.apply(this, arguments);
                };
                
                console.log(`%c
                ğŸ‰ è§£é”æˆåŠŸï¼
                ğŸ’– ç¥ç¦å­¦å‹å“¥ä¸Viviå§æ°¸ä¸–å¹¸ç¦
                ğŸŒŸ ç°åœ¨å¯ä»¥ä½“éªŒå®Œæ•´çš„è½®å›ä¹‹çˆ±
                ğŸ® æŒ‰F12å¼€å¯å¼€å‘è€…æ¨¡å¼è·å¾—ç‰¹æ®ŠåŠŸèƒ½
                `, 'color: #ff4757; font-size: 16px; font-weight: bold;');
                
                // é‡æ–°ç¦ç”¨consoleï¼ˆä¿æŠ¤æ¨¡å¼ï¼‰
                setTimeout(() => {
                    console.log = function() {};
                }, 5000);
            }, 1000);
        }

        // ==================== F12ä¿æŠ¤æœºåˆ¶ ====================
        
        /**
         * æ£€æµ‹å¼€å‘è€…å·¥å…·æ˜¯å¦æ‰“å¼€
         */
        let devtoolsOpen = false;
        
        setInterval(function() {
            const startTime = performance.now();
            debugger;
            const endTime = performance.now();
            
            if (endTime - startTime > 100) {
                if (!devtoolsOpen && contentUnlocked) {
                    devtoolsOpen = true;
                    onDevToolsOpen();
                }
            } else {
                devtoolsOpen = false;
            }
        }, 1000);

        /**
         * F12æ‰“å¼€æ—¶çš„å¤„ç†å‡½æ•°
         */
        function onDevToolsOpen() {
            if (!contentUnlocked) return;
            
            // ä¸´æ—¶æ¢å¤consoleæ˜¾ç¤ºç‰¹æ®Šä¿¡æ¯
            const originalLog = console.log;
            console.log = function() {
                return originalLog.apply(this, arguments);
            };
            
            console.log(`%c
            ğŸ”“ å¼€å‘è€…æ¨¡å¼å·²æ¿€æ´»ï¼
            ğŸ’« ç‰¹æ®ŠåŠŸèƒ½å·²è§£é”
            ğŸŒŒ äº«å—å®Œæ•´çš„è½®å›ä½“éªŒ
            `, 'color: #2ed573; font-size: 14px; font-weight: bold;');
            
            setTimeout(() => {
                console.log = function() {};
            }, 3000);
        }

        // ==================== åŸºç¡€ä¿æŠ¤æªæ–½ ====================
        
        // é˜²æ­¢å³é”®èœå•
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // é˜²æ­¢é€‰æ‹©æ–‡æœ¬
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
            return false;
        });

        // æ§åˆ¶å°è¾“å‡ºå¹²æ‰°ï¼ˆä¿æŠ¤æ¨¡å¼ï¼‰
        console.log = function() {};
        console.warn = function() {};
        console.error = function() {};

        // ==================== è½®å›ç³»ç»Ÿæ ¸å¿ƒ ====================
        
        /**
         * 27å¹´è½®å›ç³»ç»Ÿç±»
         */
        class è½®å›ç³»ç»Ÿ {
            constructor() {
                this.å½“å‰çºªå…ƒ = 0;
                this.è½®å›æ¬¡æ•° = 0;
                this.è½®å›å‘¨æœŸ = 27;
                this.ä¸‹æ¬¡å¤§äº‹ä»¶ = new Date().getFullYear() + this.è½®å›å‘¨æœŸ;
            }

            /**
             * å®‡å®™é‡å¯æ–¹æ³•
             */
            å®‡å®™é‡å¯() {
                this.è½®å›æ¬¡æ•°++;
                this.å½“å‰çºªå…ƒ++;
                
                // è§¦å‘è§†è§‰æ•ˆæœ
                è§¦å‘å¤§çˆ†ç‚¸è§†è§‰æ•ˆæœ();
                
                // æ›´æ–°æ˜¾ç¤º
                æ›´æ–°è½®å›æ˜¾ç¤º();
                
                console.log(`ğŸ’¥ ç¬¬${this.è½®å›æ¬¡æ•°}æ¬¡å®‡å®™å¤§çˆ†ç‚¸å‘ç”Ÿï¼`);
                console.log(`ğŸ”„ è¿›å…¥ç¬¬${this.å½“å‰çºªå…ƒ}çºªå…ƒ`);
                
                return `ç¬¬${this.è½®å›æ¬¡æ•°}æ¬¡è½®å›å¼€å§‹ - çºªå…ƒ${this.å½“å‰çºªå…ƒ}`;
            }

            /**
             * æ£€æŸ¥è‡ªç„¶è½®å›ï¼ˆ6æœˆ7æ—¥ï¼‰
             */
            æ£€æŸ¥è‡ªç„¶è½®å›() {
                const å½“å‰æ—¶é—´ = new Date();
                const æœˆä»½ = å½“å‰æ—¶é—´.getMonth() + 1;
                const æ—¥æœŸ = å½“å‰æ—¶é—´.getDate();
                
                return æœˆä»½ === 6 && æ—¥æœŸ === 7;
            }
        }

        // åˆ›å»ºè½®å›ç³»ç»Ÿå®ä¾‹
        const è½®å› = new è½®å›ç³»ç»Ÿ();

        // ==================== è§†è§‰æ•ˆæœå‡½æ•° ====================
        
        /**
         * è§¦å‘å¤§çˆ†ç‚¸è§†è§‰æ•ˆæœ
         */
        function è§¦å‘å¤§çˆ†ç‚¸è§†è§‰æ•ˆæœ() {
            const bigBang = document.getElementById('bigBang');
            
            // é‡ç½®åŠ¨ç”»
            bigBang.classList.remove('active');
            void bigBang.offsetWidth;
            bigBang.classList.add('active');
            
            // é¡µé¢éœ‡åŠ¨æ•ˆæœ
            document.body.style.animation = 'none';
            setTimeout(() => {
                document.body.style.animation = 'shake 0.5s';
            }, 10);
            
            // è§¦å‘æŸ¥å…‹æ‹‰æ³¢åŠ¨
            è§¦å‘æŸ¥å…‹æ‹‰æ³¢åŠ¨();
            
            // æ›´æ–°æ˜Ÿç©º
            æ›´æ–°æ˜Ÿç©º();
        }

        /**
         * åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
         */
        function createStars() {
            const universe = document.getElementById('universe');
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.animationDelay = Math.random() * 3 + 's';
                universe.appendChild(star);
            }
        }

        /**
         * æ›´æ–°æ˜Ÿç©ºï¼ˆé‡æ–°ç”Ÿæˆï¼‰
         */
        function æ›´æ–°æ˜Ÿç©º() {
            const universe = document.getElementById('universe');
            universe.innerHTML = '';
            createStars();
        }

        /**
         * è§¦å‘æŸ¥å…‹æ‹‰æ³¢åŠ¨æ•ˆæœ
         */
        function è§¦å‘æŸ¥å…‹æ‹‰æ³¢åŠ¨() {
            const points = document.querySelectorAll('.chakra-point');
            points.forEach(point => {
                point.style.animation = 'none';
                setTimeout(() => {
                    point.style.animation = 'chakraGlow 2s infinite';
                }, 10);
            });
        }

        /**
         * æ›´æ–°è½®å›æ˜¾ç¤º
         */
        function æ›´æ–°è½®å›æ˜¾ç¤º() {
            document.getElementById('currentCycle').textContent = è½®å›.è½®å›æ¬¡æ•°;
        }

        // ==================== æŒ‰é’®ç‚¹å‡»å¤„ç† ====================
        
        /**
         * è§¦å‘å¤§çˆ†ç‚¸æŒ‰é’®ç‚¹å‡»äº‹ä»¶
         */
        function triggerBigBang() {
            if (!contentUnlocked) return;
            è½®å›.å®‡å®™é‡å¯();
        }

        // ==================== éŸ³ä¹æ’­æ”¾å™¨åŠŸèƒ½ ====================
        
        // è·å–DOMå…ƒç´ 
        const music = document.getElementById('backgroundMusic');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const progressBar = document.getElementById('progressBar');
        const progressContainer = document.getElementById('progressContainer');
        const progressHandle = document.getElementById('progressHandle');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const volumeControl = document.getElementById('volumeControl');
        const volumeValue = document.getElementById('volumeValue');
        const lyricsContainer = document.getElementById('lyricsContainer');
        const currentLyric = document.getElementById('currentLyric');
        const nextLyric = document.getElementById('nextLyric');
        const musicPlayer = document.getElementById('musicPlayer');
        const dragHandle = document.getElementById('dragHandle');

        // ç²¾ç¡®çš„æ­Œè¯æ—¶é—´è½´
        const lyrics = [
            { time: 9, text: "ç­‰ä¸åˆ°ä½  æˆä¸ºæˆ‘æœ€é—ªäº®çš„æ˜Ÿæ˜Ÿ" },
            { time: 16, text: "æˆ‘ä¾ç„¶æ„¿æ„å€Ÿç»™ä½ æˆ‘çš„å…‰" },
            { time: 23, text: "æŠ•å°„ç»™ä½  ç›´åˆ°ä½ é‚£ç¿çƒ‚çš„å…‰èŠ’" },
            { time: 30, text: "é™é™åœ°æŒ‚åœ¨é¥è¿œçš„å¤©ä¸Š" },
            { time: 37, text: "å½“ä½ æ²‰æµ¸ å¤©ç©ºé‚£æ¡å†°å†·çš„é“¶æ²³" },
            { time: 44, text: "éšæ²¡åœ¨å®‡å®™æ·±å¤„ æˆ‘æ­£ç©¿è¶Š" },
            { time: 51, text: "èŒ«èŒ«äººæµ· ä¸ºä½ ç‚¹äº® ä¸€ç›æ¸©æš–çš„ç¯ç«" },
            { time: 65, text: "ä¸€é—ªä¸€é—ªäº®æ™¶æ™¶ å¥½åƒä½ çš„èº«ä½“" },
            { time: 72, text: "è—åœ¨ä¼—å¤šå­¤æ˜Ÿä¹‹ä¸­ è¿˜æ˜¯æ‰¾å¾—åˆ°ä½ " },
            { time: 79, text: "æŒ‚åœ¨å¤©ä¸Šæ”¾å…‰æ˜ åå°„æˆ‘çš„å­¤å¯‚" },
            { time: 86, text: "æé†’æˆ‘ æˆ‘ä¹Ÿåªæ˜¯ä¸€é¢—å¯‚å¯çš„æ˜Ÿæ˜Ÿ" },
            { time: 100, text: "æµ©ç€šçš„ä¸–ç•Œé‡Œ æ›´è¿­çš„äººæµ·é‡Œ" },
            { time: 107, text: "å’Œä½ äº’ç›¸è¾‰æ˜  è®©æˆ‘ä»¬å»¶ç»­" },
            { time: 114, text: "ç”¨å°½æ‰€æœ‰æ€å¿µ å”±ä¸€é¦–æ­Œç»™ä½ " },
            { time: 121, text: "ç»™ä½  ä¸€é—ªä¸€é—ªäº®æ™¶æ™¶" },
            { time: 128, text: "å¥½åƒä½ çš„èº«ä½“ è—åœ¨ä¼—å¤šå­¤æ˜Ÿä¹‹ä¸­" },
            { time: 135, text: "è¿˜æ˜¯æ‰¾å¾—åˆ°ä½  æŒ‚åœ¨å¤©ä¸Šæ”¾å…‰æ˜" },
            { time: 142, text: "åå°„æˆ‘çš„è¿‡å» æé†’æˆ‘" },
            { time: 149, text: "æˆ‘ä¸å†æ˜¯ä¸€é¢—å¯‚å¯çš„æ˜Ÿæ˜Ÿ" },
            { time: 180, text: "ç­‰ä¸åˆ°ä½  æˆä¸ºæˆ‘æœ€é—ªäº®çš„æ˜Ÿæ˜Ÿ" },
            { time: 187, text: "æˆ‘ä¾ç„¶æ„¿æ„å€Ÿç»™ä½ æˆ‘çš„å…‰" },
            { time: 194, text: "æŠ•å°„ç»™ä½  ç›´åˆ°ä½ é‚£ç¿çƒ‚çš„å…‰èŠ’" },
            { time: 201, text: "é™é™åœ°æŒ‚åœ¨é¥è¿œçš„å¤©ä¸Š" },
            { time: 208, text: "å½“ä½ æ²‰æµ¸ å¤©ç©ºé‚£æ¡å†°å†·çš„é“¶æ²³" },
            { time: 215, text: "éšæ²¡åœ¨å®‡å®™æ·±å¤„ æˆ‘æ­£ç©¿è¶Š" },
            { time: 222, text: "èŒ«èŒ«äººæµ· ä¸ºä½ ç‚¹äº® ä¸€ç›æ¸©æš–çš„ç¯ç«" }
        ];

        let currentLyricIndex = -1;
        let lyricsVisible = false;

        /**
         * æ’­æ”¾/æš‚åœéŸ³ä¹
         */
        function playPause() {
            if (music.paused) {
                music.play().then(() => {
                    playPauseBtn.innerHTML = 'â¸ï¸';
                    playPauseBtn.title = 'æš‚åœ';
                }).catch(e => {
                    console.log('æ’­æ”¾å¤±è´¥ï¼Œéœ€è¦ç”¨æˆ·äº¤äº’');
                });
            } else {
                music.pause();
                playPauseBtn.innerHTML = 'â–¶ï¸';
                playPauseBtn.title = 'æ’­æ”¾';
            }
        }

        /**
         * å‰è¿›15ç§’
         */
        function skipForward() {
            music.currentTime = Math.min(music.duration, music.currentTime + 15);
            updateProgress();
        }

        /**
         * åé€€15ç§’
         */
        function skipBackward() {
            music.currentTime = Math.max(0, music.currentTime - 15);
            updateProgress();
        }

        /**
         * åˆ‡æ¢æ­Œè¯æ˜¾ç¤º
         */
        function toggleLyrics() {
            lyricsVisible = !lyricsVisible;
            if (lyricsVisible) {
                lyricsContainer.classList.add('show');
            } else {
                lyricsContainer.classList.remove('show');
            }
        }

        /**
         * æ›´æ–°æ­Œè¯æ˜¾ç¤º
         */
        function updateLyrics() {
            const currentTime = music.currentTime;
            
            let newIndex = -1;
            for (let i = lyrics.length - 1; i >= 0; i--) {
                if (currentTime >= lyrics[i].time) {
                    newIndex = i;
                    break;
                }
            }
            
            if (newIndex !== currentLyricIndex) {
                currentLyricIndex = newIndex;
                
                if (currentLyricIndex >= 0) {
                    currentLyric.textContent = lyrics[currentLyricIndex].text;
                    
                    if (currentLyricIndex < lyrics.length - 1) {
                        nextLyric.textContent = lyrics[currentLyricIndex + 1].text;
                    } else {
                        nextLyric.textContent = '';
                    }
                    
                    currentLyric.style.transform = 'scale(1.1)';
                    currentLyric.style.color = '#ff4757';
                    setTimeout(() => {
                        currentLyric.style.transform = 'scale(1)';
                        currentLyric.style.color = '#2ed573';
                    }, 300);
                } else {
                    currentLyric.textContent = 'éŸ³ä¹å³å°†å¼€å§‹...';
                    nextLyric.textContent = lyrics[0].text;
                }
            }
        }

        /**
         * æ›´æ–°è¿›åº¦æ¡
         */
        function updateProgress() {
            if (music.duration) {
                const percent = (music.currentTime / music.duration) * 100;
                progressBar.style.width = percent + '%';
                progressHandle.style.left = percent + '%';
                
                currentTimeEl.textContent = formatTime(music.currentTime);
                durationEl.textContent = formatTime(music.duration);
                
                updateLyrics();
            }
        }

        /**
         * æ ¼å¼åŒ–æ—¶é—´ä¸º MM:SS
         */
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        /**
         * è®¾ç½®è¿›åº¦æ¡ç‚¹å‡»è·³è½¬
         */
        function setupProgressBar() {
            progressContainer.addEventListener('click', function(e) {
                const rect = this.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                music.currentTime = percent * music.duration;
                updateProgress();
            });
        }

        // éŸ³é‡æ§åˆ¶
        volumeControl.addEventListener('input', function() {
            music.volume = this.value;
            volumeValue.textContent = Math.round(this.value * 100) + '%';
        });

        // ==================== æ’­æ”¾å™¨æ‹–æ‹½åŠŸèƒ½ ====================
        
        let isDragging = false;
        let dragOffset = { x: 0, y: 0 };

        /**
         * å¼€å§‹æ‹–æ‹½
         */
        function startDrag(e) {
            if (e.button !== 0) return;
            
            isDragging = true;
            musicPlayer.classList.add('dragging');
            
            const rect = musicPlayer.getBoundingClientRect();
            dragOffset.x = e.clientX - rect.left;
            dragOffset.y = e.clientY - rect.top;
            
            e.preventDefault();
        }

        /**
         * æ‹–æ‹½ä¸­
         */
        function onDrag(e) {
            if (!isDragging) return;
            
            let newX = e.clientX - dragOffset.x;
            let newY = e.clientY - dragOffset.y;
            
            const maxX = window.innerWidth - musicPlayer.offsetWidth;
            const maxY = window.innerHeight - musicPlayer.offsetHeight;
            
            newX = Math.max(0, Math.min(newX, maxX));
            newY = Math.max(0, Math.min(newY, maxY));
            
            musicPlayer.style.left = newX + 'px';
            musicPlayer.style.top = newY + 'px';
            musicPlayer.style.transform = 'none';
        }

        /**
         * ç»“æŸæ‹–æ‹½
         */
        function endDrag() {
            isDragging = false;
            musicPlayer.classList.remove('dragging');
        }

        // è®¾ç½®æ‹–æ‹½äº‹ä»¶ç›‘å¬
        dragHandle.addEventListener('mousedown', startDrag);
        document.addEventListener('mousemove', onDrag);
        document.addEventListener('mouseup', endDrag);

        // è§¦æ‘¸è®¾å¤‡æ”¯æŒ
        dragHandle.addEventListener('touchstart', function(e) {
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousedown', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            startDrag(mouseEvent);
        });

        document.addEventListener('touchmove', function(e) {
            if (!isDragging) return;
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousemove', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            onDrag(mouseEvent);
            e.preventDefault();
        });

        document.addEventListener('touchend', endDrag);

        // ==================== åˆå§‹åŒ–è®¾ç½® ====================
        
        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            æ›´æ–°è½®å›æ˜¾ç¤º();
            setupProgressBar();
            
            // è®¾ç½®éŸ³ä¹äº‹ä»¶ç›‘å¬
            music.addEventListener('timeupdate', updateProgress);
            music.addEventListener('ended', function() {
                playPauseBtn.innerHTML = 'â–¶ï¸';
                playPauseBtn.title = 'æ’­æ”¾';
            });
            
            // è®¾ç½®åˆå§‹éŸ³é‡
            music.volume = volumeControl.value;
            
            // ç”¨æˆ·äº¤äº’ååˆå§‹åŒ–éŸ³ä¹
            document.addEventListener('click', function initAudio() {
                document.removeEventListener('click', initAudio);
                music.volume = 0;
                music.play().then(() => {
                    music.pause();
                    music.volume = volumeControl.value;
                });
            });
            
            // æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡è‡ªç„¶è½®å›
            setInterval(() => {
                if (è½®å›.æ£€æŸ¥è‡ªç„¶è½®å›()) {
                    console.log("ğŸ‚ ç”Ÿæ—¥å¿«ä¹ï¼è‡ªåŠ¨è§¦å‘å¹´åº¦è½®å›");
                    è½®å›.å®‡å®™é‡å¯();
                }
            }, 5 * 60 * 1000);
            
            // æ¯27ç§’æ¼”ç¤ºä¸€æ¬¡è½®å›
            setInterval(() => {
                if (Math.random() < 0.1 && contentUnlocked) {
                    console.log("ğŸ”® æ¼”ç¤ºæ¨¡å¼ï¼šè§¦å‘è½®å›");
                    è½®å›.å®‡å®™é‡å¯();
                }
            }, 27000);
            
            // éšæœºæŸ¥å…‹æ‹‰æ³¢åŠ¨
            setInterval(() => {
                if (Math.random() < 0.01 && contentUnlocked) {
                    è§¦å‘æŸ¥å…‹æ‹‰æ³¢åŠ¨();
                }
            }, 1000);
            
            console.log(`%c
             ğŸŒ€ è½®å›ä¹‹çˆ±ç³»ç»Ÿå·²å¯åŠ¨
             ğŸ”’ è¯·è¾“å…¥å¯†ç è§£é”å®Œæ•´å†…å®¹
            `, 'color: #ff4757; font-size: 14px; font-weight: bold;');
        });

    </script>
</body>
</html>